(function(n,t){"use strict";function r(n,i){i=i||{};t.forEach(i,function(n,t){delete i[t]});for(var r in n)n.hasOwnProperty(r)&&("$"!==r.charAt(0)||"$"!==r.charAt(1))&&(i[r]=n[r]);return i}var i=t.$$minErr("$resource"),u=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;t.module("ngResource",["ng"]).provider("$resource",function(){var f=/^https?:\/\/[^\/]*/,n=this;this.defaults={stripTrailingSlashes:!0,cancellable:!1,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}};this.$get=["$http","$log","$q","$timeout",function(e,o,s,h){function v(n,t){return encodeURIComponent(n).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}function y(t,i){this.template=t;this.defaults=l({},n.defaults,i);this.urlParams={}}function p(f,v,k,d){function nt(n,r){var f={};return r=l({},v,r),c(r,function(r,e){var s,o,c;if(a(r)&&(r=r(n)),r&&r.charAt&&"@"===r.charAt(0)){if(s=n,o=r.substr(1),null==o||""===o||"hasOwnProperty"===o||!u.test("."+o))throw i("badmember",o);for(var o=o.split("."),h=0,l=o.length;h<l&&t.isDefined(s);h++)c=o[h],s=null!==s?s[c]:void 0}else s=r;f[e]=s}),f}function tt(n){return n.resource}function g(n){r(n||{},this)}var it=new y(f,d);return k=l({},n.defaults.actions,k),g.prototype.toJSON=function(){var n=l({},this);return delete n.$promise,delete n.$resolved,n},c(k,function(u,f){var p=/^(POST|PUT|PATCH)$/i.test(u.method),v=u.timeout,y=t.isDefined(u.cancellable)?u.cancellable:d&&t.isDefined(d.cancellable)?d.cancellable:n.defaults.cancellable;v&&!t.isNumber(v)&&(o.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests. If you are looking for a way to cancel requests, you should use the `cancellable` option."),delete u.timeout,v=null);g[f]=function(n,o,k,d){var ut={},et,ot,ht;switch(arguments.length){case 4:ht=d;ot=k;case 3:case 2:if(a(o)){if(a(n)){ot=n;ht=o;break}ot=o;ht=k}else{ut=n;et=o;ot=k;break}case 1:a(n)?ot=n:p?et=n:ut=n;break;case 0:break;default:throw i("badargs",arguments.length);}var ct=this instanceof g,rt=ct?et:u.isArray?[]:new g(et),ft={},at=u.interceptor&&u.interceptor.response||tt,vt=u.interceptor&&u.interceptor.responseError||void 0,st,lt;return c(u,function(n,t){switch(t){default:ft[t]=b(n);case"params":case"isArray":case"interceptor":case"cancellable":}}),!ct&&y&&(st=s.defer(),ft.timeout=st.promise,v&&(lt=h(st.resolve,v))),p&&(ft.data=et),it.setUrlParams(ft,l({},nt(et,u.params||{}),ut),u.url),ut=e(ft).then(function(n){var e=n.data,o;if(e){if(t.isArray(e)!==!!u.isArray)throw i("badcfg",f,u.isArray?"array":"object",t.isArray(e)?"array":"object",ft.method,ft.url);u.isArray?(rt.length=0,c(e,function(n){"object"==typeof n?rt.push(new g(n)):rt.push(n)})):(o=rt.$promise,r(e,rt),rt.$promise=o)}return n.resource=rt,n},function(n){return(ht||w)(n),s.reject(n)}),ut["finally"](function(){rt.$resolved=!0;!ct&&y&&(rt.$cancelRequest=t.noop,h.cancel(lt),st=lt=ft.timeout=null)}),ut=ut.then(function(n){var t=at(n);return(ot||w)(t,n.headers),t},vt),ct?ut:(rt.$promise=ut,rt.$resolved=!1,y&&(rt.$cancelRequest=st.resolve),rt)};g.prototype["$"+f]=function(n,t,i){return a(n)&&(i=t,t=n,n={}),n=g[f].call(this,n,this,t,i),n.$promise||n}}),g.bind=function(n){return p(f,l({},v,n),k)},g}var w=t.noop,c=t.forEach,l=t.extend,b=t.copy,a=t.isFunction;return y.prototype={setUrlParams:function(n,r,u){var o=this,e=u||o.template,s,h,l="",a=o.urlParams={};c(e.split(/\W/),function(n){if("hasOwnProperty"===n)throw i("badname");!/^\d+$/.test(n)&&n&&new RegExp("(^|[^\\\\]):"+n+"(\\W|$)").test(e)&&(a[n]={isQueryParamValue:new RegExp("\\?.*=:"+n+"(?:\\W|$)").test(e)})});e=e.replace(/\\:/g,":");e=e.replace(f,function(n){return l=n,""});r=r||{};c(o.urlParams,function(n,i){s=r.hasOwnProperty(i)?r[i]:o.defaults[i];t.isDefined(s)&&null!==s?(h=n.isQueryParamValue?v(s,!0):v(s,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+"),e=e.replace(new RegExp(":"+i+"(\\W|$)","g"),function(n,t){return h+t})):e=e.replace(new RegExp("(/?):"+i+"(\\W|$)","g"),function(n,t,i){return"/"===i.charAt(0)?i:t+i})});o.defaults.stripTrailingSlashes&&(e=e.replace(/\/+$/,"")||"/");e=e.replace(/\/\.(?=\w+($|\?))/,".");n.url=l+e.replace(/\/\\\./,"/.");c(r,function(t,i){o.urlParams[i]||(n.params=n.params||{},n.params[i]=t)})}},p}]})})(window,window.angular),function(n,t){"use strict";function l(n){var t=[];return u(t,h).chars(n),t.join("")}var f=t.$$minErr("$sanitize"),e,i,o,s,r,h,c,u;t.module("ngSanitize",[]).provider("$sanitize",function(){function a(n,t){for(var f={},u=n.split(","),i=0;i<u.length;i++)f[t?r(u[i]):u[i]]=!0;return f}function tt(n){for(var i,r={},t=0,u=n.length;t<u;t++)i=n[t],r[i.name]=i.value;return r}function k(n){return n.replace(/&/g,"&amp;").replace(it,function(n){var t=n.charCodeAt(0);return n=n.charCodeAt(1),"&#"+(1024*(t-55296)+(n-56320)+65536)+";"}).replace(rt,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function y(t){var u,f;if(t.nodeType===n.Node.ELEMENT_NODE)for(var i=t.attributes,r=0,e=i.length;r<e;r++)u=i[r],f=u.name.toLowerCase(),("xmlns:ns1"===f||0===f.lastIndexOf("ns1:",0))&&(t.removeAttributeNode(u),r--,e--);(i=t.firstChild)&&y(i);(i=t.nextSibling)&&y(i)}var p=!1;this.$get=["$$sanitizeUri",function(n){return p&&i(b,ut),function(t){var i=[];return c(t,u(i,function(t,i){return!/^unsafe:/.test(n(t,i))})),i.join("")}}];this.enableSvg=function(n){return s(n)?(p=n,this):p};e=t.bind;i=t.extend;o=t.forEach;s=t.isDefined;r=t.lowercase;h=t.noop;c=function(t,i){var r,u;null===t||void 0===t?t="":"string"!=typeof t&&(t=""+t);l.innerHTML=t;r=5;do{if(0===r)throw f("uinput");r--;n.document.documentMode&&y(l);t=l.innerHTML;l.innerHTML=t}while(t!==l.innerHTML);for(r=l.firstChild;r;){switch(r.nodeType){case 1:i.start(r.nodeName.toLowerCase(),tt(r.attributes));break;case 3:i.chars(r.textContent)}if(!(u=r.firstChild)&&(1===r.nodeType&&i.end(r.nodeName.toLowerCase()),u=r.nextSibling,!u))for(;null==u;){if(r=r.parentNode,r===l)break;u=r.nextSibling;1===r.nodeType&&i.end(r.nodeName.toLowerCase())}r=u}for(;r=l.firstChild;)l.removeChild(r)};u=function(n,t){var u=!1,i=e(n,n.push);return{start:function(n,f){n=r(n);!u&&ft[n]&&(u=n);u||!0!==b[n]||(i("<"),i(n),o(f,function(u,f){var e=r(f),o="img"===n&&"src"===e||"background"===e;!0===et[e]&&(!0!==nt[e]||t(u,o))&&(i(" "),i(f),i('="'),i(k(u)),i('"'))}),i(">"))},end:function(n){n=r(n);u||!0!==b[n]||!0===d[n]||(i("<\/"),i(n),i(">"));n==u&&(u=!1)},chars:function(n){u||i(k(n))}}};var it=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,rt=/([^#-~ |!])/g,d=a("area,br,col,hr,img,wbr"),w=a("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),v=a("rp,rt"),g=i({},v,w),w=i({},w,a("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),v=i({},v,a("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),ut=a("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),ft=a("script,style"),b=i({},d,w,v,g),nt=a("background,cite,href,longdesc,src,xlink:href"),g=a("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),v=a("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),et=i({},nt,v,g),l;(function(n){if(n.document&&n.document.implementation)n=n.document.implementation.createHTMLDocument("inert");else throw f("noinert");var t=(n.documentElement||n.getDocumentElement()).getElementsByTagName("body");1===t.length?l=t[0]:(t=n.createElement("html"),l=n.createElement("body"),t.appendChild(l),n.appendChild(t))})(n)});t.module("ngSanitize").filter("linky",["$sanitize",function(n){var i=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,r=/^mailto:/i,u=t.$$minErr("linky"),f=t.isDefined,e=t.isFunction,o=t.isObject,s=t.isString;return function(t,h,c){function p(n){n&&a.push(l(n))}function b(n,t){var i,r=k(n);a.push("<a ");for(i in r)a.push(i+'="'+r[i]+'" ');!f(h)||"target"in r||a.push('target="',h,'" ');a.push('href="',n.replace(/"/g,"&quot;"),'">');p(t);a.push("<\/a>")}if(null==t||""===t)return t;if(!s(t))throw u("notstring",t);for(var k=e(c)?c:o(c)?function(){return c}:function(){return{}},v=t,a=[],y,w;t=v.match(i);)y=t[0],t[2]||t[4]||(y=(t[3]?"http://":"mailto:")+y),w=t.index,p(v.substr(0,w)),b(y,t[0].replace(r,"")),v=v.substring(w+t[0].length);return p(v),n(a.join(""))}}])}(window,window.angular),function(n,t){"use strict";function r(n,i,r){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(u,f,e,o,s){function v(){c&&(r.cancel(c),c=null);h&&(h.$destroy(),h=null);l&&(c=r.leave(l),c.then(function(){c=null}),l=null)}function y(){var e=n.current&&n.current.locals,o;t.isDefined(e&&e.$template)?(e=u.$new(),o=n.current,l=s(e,function(n){r.enter(n,null,l||f).then(function(){t.isDefined(a)&&(!a||u.$eval(a))&&i()});v()}),h=o.scope=e,h.$emit("$viewContentLoaded"),h.$eval(p)):v()}var h,l,c,a=e.autoscroll,p=e.onload||"";u.$on("$routeChangeSuccess",y);y()}}}function u(n,t,i){return{restrict:"ECA",priority:-400,link:function(r,u){var f=i.current,e=f.locals,s,o;u.html(e.$template);s=n(u.contents());f.controller&&(e.$scope=r,o=t(f.controller,e),f.controllerAs&&(r[f.controllerAs]=o),u.data("$ngControllerController",o),u.children().data("$ngControllerController",o));r[f.resolveAs||"$resolve"]=e;s(r)}}}var f,e,i=t.module("ngRoute",["ng"]).provider("$route",function(){function i(n,i){return t.extend(Object.create(n),i)}function r(n,t){var r=t.caseInsensitiveMatch,i={originalPath:n,regexp:n},u=i.keys=[];return n=n.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)(\*\?|[\?\*])?/g,function(n,t,i,r){return n="?"===r||"*?"===r?"?":null,r="*"===r||"*?"===r?"*":null,u.push({name:i,optional:!!n}),t=t||"",""+(n?"":t)+"(?:"+(n?t:"")+(r&&"(.+?)"||"([^/]+)")+(n||"")+")"+(n||"")}).replace(/([\/$\*])/g,"\\$1"),i.regexp=new RegExp("^"+n+"$",r?"i":""),i}f=t.isArray;e=t.isObject;var n={};this.when=function(i,u){var o,s,h;if(o=void 0,f(u))for(o=o||[],s=0,h=u.length;s<h;s++)o[s]=u[s];else if(e(u))for(s in o=o||{},u)("$"!==s.charAt(0)||"$"!==s.charAt(1))&&(o[s]=u[s]);return o=o||u,t.isUndefined(o.reloadOnSearch)&&(o.reloadOnSearch=!0),t.isUndefined(o.caseInsensitiveMatch)&&(o.caseInsensitiveMatch=this.caseInsensitiveMatch),n[i]=t.extend(o,i&&r(i,o)),i&&(s="/"===i[i.length-1]?i.substr(0,i.length-1):i+"/",n[s]=t.extend({redirectTo:i},r(s,o))),this};this.caseInsensitiveMatch=!1;this.otherwise=function(n){return"string"==typeof n&&(n={redirectTo:n}),this.when(null,n),this};this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(r,u,f,e,s,h,c){function y(n){var i=a.current;!(b=(l=g())&&i&&l.$$route===i.$$route&&t.equals(l.pathParams,i.pathParams)&&!l.reloadOnSearch&&!v)&&(i||l)&&r.$broadcast("$routeChangeStart",l,i).defaultPrevented&&n&&n.preventDefault()}function p(){var i=a.current,n=l;b?(i.params=n.params,t.copy(i.params,f),r.$broadcast("$routeUpdate",i)):(n||i)&&(v=!1,(a.current=n)&&n.redirectTo&&(t.isString(n.redirectTo)?u.path(w(n.redirectTo,n.params)).search(n.params).replace():u.url(n.redirectTo(n.pathParams,u.path(),u.search())).replace()),e.when(n).then(k).then(function(u){n===a.current&&(n&&(n.locals=u,t.copy(n.params,f)),r.$broadcast("$routeChangeSuccess",n,i))},function(t){n===a.current&&r.$broadcast("$routeChangeError",n,i,t)}))}function k(n){if(n){var i=t.extend({},n.resolve);return t.forEach(i,function(n,r){i[r]=t.isString(n)?s.get(n):s.invoke(n,null,null,r)}),n=d(n),t.isDefined(n)&&(i.$template=n),e.all(i)}}function d(n){var r,i;return t.isDefined(r=n.template)?t.isFunction(r)&&(r=r(n.params)):t.isDefined(i=n.templateUrl)&&(t.isFunction(i)&&(i=i(n.params)),t.isDefined(i)&&(n.loadedTemplateUrl=c.valueOf(i),r=h(i))),r}function g(){var f,r;return t.forEach(n,function(n){var e,o,h,s,a,c,l;if(e=!r){if(o=u.path(),e=n.keys,h={},n.regexp)if(o=n.regexp.exec(o)){for(s=1,a=o.length;s<a;++s)c=e[s-1],l=o[s],c&&l&&(h[c.name]=l);e=h}else e=null;else e=null;e=f=e}e&&(r=i(n,{params:t.extend({},u.search(),f),pathParams:f}),r.$$route=n)}),r||n[null]&&i(n[null],{params:{},pathParams:{}})}function w(n,i){var r=[];return t.forEach((n||"").split(":"),function(n,t){if(0===t)r.push(n);else{var u=n.match(/(\w+)(?:[?*])?(.*)/),f=u[1];r.push(i[f]);r.push(u[2]||"");delete i[f]}}),r.join("")}var v=!1,l,b,a={routes:n,reload:function(){v=!0;var n={defaultPrevented:!1,preventDefault:function(){this.defaultPrevented=!0;v=!1}};r.$evalAsync(function(){y(n);n.defaultPrevented||p()})},updateParams:function(n){if(this.current&&this.current.$$route)n=t.extend({},this.current.params,n),u.path(w(this.current.$$route.originalPath,n)),u.search(n);else throw o("norout");}};return r.$on("$locationChangeStart",y),r.$on("$locationChangeSuccess",p),a}]}),o=t.$$minErr("ngRoute");i.provider("$routeParams",function(){this.$get=function(){return{}}});i.directive("ngView",r);i.directive("ngView",u);r.$inject=["$route","$anchorScroll","$animate"];u.$inject=["$compile","$controller","$route"]}(window,window.angular),function(n,t){"use strict";function i(n,i,r){var u=r.baseHref(),f=n[0];return function(n,r,e){var s,o;e=e||{};o=e.expires;s=t.isDefined(e.path)?e.path:u;t.isUndefined(r)&&(o="Thu, 01 Jan 1970 00:00:00 GMT",r="");t.isString(o)&&(o=new Date(o));r=encodeURIComponent(n)+"="+encodeURIComponent(r);r=r+(s?";path="+s:"")+(e.domain?";domain="+e.domain:"");r+=o?";expires="+o.toUTCString():"";r+=e.secure?";secure":"";e=r.length+1;4096<e&&i.warn("Cookie '"+n+"' possibly not set or overflowed because it was too large ("+e+" > 4096 bytes)!");f.cookie=r}}t.module("ngCookies",["ng"]).provider("$cookies",[function(){var n=this.defaults={};this.$get=["$$cookieReader","$$cookieWriter",function(i,r){return{get:function(n){return i()[n]},getObject:function(n){return(n=this.get(n))?t.fromJson(n):n},getAll:function(){return i()},put:function(i,u,f){r(i,u,f?t.extend({},n,f):n)},putObject:function(n,i,r){this.put(n,t.toJson(i),r)},remove:function(i,u){r(i,void 0,u?t.extend({},n,u):n)}}}]}]);t.module("ngCookies").factory("$cookieStore",["$cookies",function(n){return{get:function(t){return n.getObject(t)},put:function(t,i){n.putObject(t,i)},remove:function(t){n.remove(t)}}}]);i.$inject=["$document","$log","$browser"];t.module("ngCookies").provider("$$cookieWriter",function(){this.$get=i})}(window,window.angular);!function(n,t){"function"==typeof define&&define.amd?define([],function(){return t()}):"object"==typeof exports?module.exports=t():t()}(this,function(){function n(n){"use strict";var i=n.storageKey(),t=n.storage(),r=function(){var r=n.preferredLanguage();angular.isString(r)?n.use(r):t.put(i,n.use())};r.displayName="fallbackFromIncorrectStorageValue";t?t.get(i)?n.use(t.get(i))["catch"](r):r():angular.isString(n.preferredLanguage())&&n.use(n.preferredLanguage())}function o(){"use strict";var t,n,i=null,u=!1,f=!1;n={sanitize:function(n,t){return"text"===t&&(n=o(n)),n},escape:function(n,t){return"text"===t&&(n=e(n)),n},sanitizeParameters:function(n,t){return"params"===t&&(n=r(n,o)),n},escapeParameters:function(n,t){return"params"===t&&(n=r(n,e)),n}};n.escaped=n.escapeParameters;this.addStrategy=function(t,i){return n[t]=i,this};this.removeStrategy=function(t){return delete n[t],this};this.useStrategy=function(n){return u=!0,i=n,this};this.$get=["$injector","$log",function(r,e){var o=function(t,i,r){return angular.forEach(r,function(r){if(angular.isFunction(r))t=r(t,i);else{if(!angular.isFunction(n[r]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+r+"'");t=n[r](t,i)}}),t},s=function(){u||f||(e.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),f=!0)};return r.has("$sanitize")&&(t=r.get("$sanitize")),{useStrategy:function(n){return function(t){n.useStrategy(t)}}(this),sanitize:function(n,t,r){if(i||s(),arguments.length<3&&(r=i),!r)return n;var u=angular.isArray(r)?r:[r];return o(n,t,u)}}}];var e=function(n){var t=angular.element("<div><\/div>");return t.text(n),t.html()},o=function(n){if(!t)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");return t(n)},r=function(n,t){if(angular.isObject(n)){var i=angular.isArray(n)?[]:{};return angular.forEach(n,function(n,u){i[u]=r(n,t)}),i}return angular.isNumber(n)?n:t(n)}}function t(n,t,i,r){"use strict";var o,p,u,g,f,w,l,it,s,yt,h,rt,b,k,a,e={},d=[],nt=n,ut=[],ft="translate-cloak",pt=!1,tt=!1,et=".",ot=0,st=!0,ht="default",wt={"default":function(n){return(n||"").split("-").join("_")},java:function(n){var i=(n||"").split("-").join("_"),t=i.split("_");return t.length>1?t[0].toLowerCase()+"_"+t[1].toUpperCase():i},bcp47:function(n){var i=(n||"").split("_").join("-"),t=i.split("-");return t.length>1?t[0].toLowerCase()+"-"+t[1].toUpperCase():i}},gt="2.7.2",bt=function(){if(angular.isFunction(r.getLocale))return r.getLocale();var n,i,u=t.$get().navigator,f=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(u.languages))for(n=0;n<u.languages.length;n++)if(i=u.languages[n],i&&i.length)return i;for(n=0;n<f.length;n++)if(i=u[f[n]],i&&i.length)return i;return null},ct,y,lt,at,vt;bt.displayName="angular-translate/service: getFirstBrowserLanguage";ct=function(){var n=bt()||"";return wt[ht]&&(n=wt[ht](n)),n};ct.displayName="angular-translate/service: getLocale";var c=function(n,t){for(var i=0,r=n.length;r>i;i++)if(n[i]===t)return i;return-1},kt=function(){return this.toString().replace(/^\s+|\s+$/g,"")},dt=function(n){for(var f,t,e,o,r,i=[],s=angular.lowercase(n),u=0,h=d.length;h>u;u++)i.push(angular.lowercase(d[u]));if(c(i,s)>-1)return n;if(p)for(t in p)if(e=!1,o=Object.prototype.hasOwnProperty.call(p,t)&&angular.lowercase(t)===angular.lowercase(n),"*"===t.slice(-1)&&(e=t.slice(0,-1)===n.slice(0,t.length-1)),(o||e)&&(f=p[t],c(i,angular.lowercase(f))>-1))return f;return n&&(r=n.split("_"),r.length>1&&c(i,angular.lowercase(r[0]))>-1)?r[0]:n},v=function(n,t){if(!n&&!t)return e;if(n&&!t){if(angular.isString(n))return e[n]}else angular.isObject(e[n])||(e[n]={}),angular.extend(e[n],y(t));return this};this.translations=v;this.cloakClassName=function(n){return n?(ft=n,this):ft};y=function(n,t,i,r){var u,e,o,f;t||(t=[]);i||(i={});for(u in n)Object.prototype.hasOwnProperty.call(n,u)&&(f=n[u],angular.isObject(f)?y(f,t.concat(u),i,u):(e=t.length?""+t.join(et)+et+u:u,t.length&&u===r&&(o=""+t.join(et),i[o]="@:"+e),i[e]=f));return i};y.displayName="flatObject";this.addInterpolation=function(n){return ut.push(n),this};this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")};this.useInterpolation=function(n){return yt=n,this};this.useSanitizeValueStrategy=function(n){return i.useStrategy(n),this};this.preferredLanguage=function(n){return lt(n),this};lt=function(n){return n&&(o=n),o};this.translationNotFoundIndicator=function(n){return this.translationNotFoundIndicatorLeft(n),this.translationNotFoundIndicatorRight(n),this};this.translationNotFoundIndicatorLeft=function(n){return n?(b=n,this):b};this.translationNotFoundIndicatorRight=function(n){return n?(k=n,this):k};this.fallbackLanguage=function(n){return at(n),this};at=function(n){return n?(angular.isString(n)?(g=!0,u=[n]):angular.isArray(n)&&(g=!1,u=n),angular.isString(o)&&c(u,o)<0&&u.push(o),this):g?u[0]:u};this.use=function(n){if(n){if(!e[n]&&!h)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+n+"'");return f=n,this}return f};vt=function(n){return n?(nt=n,this):it?it+nt:nt};this.storageKey=vt;this.useUrlLoader=function(n,t){return this.useLoader("$translateUrlLoader",angular.extend({url:n},t))};this.useStaticFilesLoader=function(n){return this.useLoader("$translateStaticFilesLoader",n)};this.useLoader=function(n,t){return h=n,rt=t||{},this};this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")};this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")};this.useStorage=function(n){return l=n,this};this.storagePrefix=function(n){return n?(it=n,this):n};this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")};this.useMissingTranslationHandler=function(n){return s=n,this};this.usePostCompiling=function(n){return pt=!!n,this};this.forceAsyncReload=function(n){return tt=!!n,this};this.uniformLanguageTag=function(n){return n?angular.isString(n)&&(n={standard:n}):n={},ht=n.standard,this};this.determinePreferredLanguage=function(n){var t=n&&angular.isFunction(n)?n():ct();return o=d.length?dt(t):t,this};this.registerAvailableLanguageKeys=function(n,t){return n?(d=n,t&&(p=t),this):d};this.useLoaderCache=function(n){return n===!1?a=void 0:n===!0?a=!0:"undefined"==typeof n?a="$translationCache":n&&(a=n),this};this.directivePriority=function(n){return void 0===n?ot:(ot=n,this)};this.statefulFilter=function(n){return void 0===n?st:(st=n,this)};this.$get=["$log","$injector","$rootScope","$q",function(n,t,i,r){var ht,bt,ct,ni=t.get(yt||"$translateDefaultInterpolation"),it=!1,et={},d={},p=function(n,t,i,e){var v,s,h,a;return angular.isArray(n)?(v=function(n){for(var f={},o=[],s=function(n){var u=r.defer(),o=function(t){f[n]=t;u.resolve([n,t])};return p(n,t,i,e).then(o,o),u.promise},u=0,h=n.length;h>u;u++)o.push(s(n[u]));return r.all(o).then(function(){return f})},v(n)):(s=r.defer(),n&&(n=kt.apply(n)),h=function(){var n=o?d[o]:d[f],t,i;return(bt=0,l&&!n)&&(t=ht.get(nt),(n=d[t],u&&u.length)&&(i=c(u,t),bt=0===i?1:0,c(u,o)<0&&u.push(o))),n}(),h?(a=function(){li(n,t,i,e).then(s.resolve,s.reject)},a.displayName="promiseResolved",h["finally"](a,s.reject)):li(n,t,i,e).then(s.resolve,s.reject),s.promise)},ti=function(n){return b&&(n=[b,n].join(" ")),k&&(n=[n,k].join(" ")),n},ii=function(n){f=n;i.$emit("$translateChangeSuccess",{language:n});l&&ht.put(p.storageKey(),f);ni.setLocale(f);var t=function(n,t){et[t].setLocale(f)};t.displayName="eachInterpolatorLocaleSetter";angular.forEach(et,t);i.$emit("$translateChangeEnd",{language:n})},wt=function(n){var f,u,s,e,o;if(!n)throw"No language key specified for loading.";return f=r.defer(),i.$emit("$translateLoadingStart",{language:n}),it=!0,u=a,"string"==typeof u&&(u=t.get(u)),s=angular.extend({},rt,{key:n,$http:angular.extend({},{cache:u},rt.$http)}),e=function(t){var r={};i.$emit("$translateLoadingSuccess",{language:n});angular.isArray(t)?angular.forEach(t,function(n){angular.extend(r,y(n))}):angular.extend(r,y(t));it=!1;f.resolve({key:n,table:r});i.$emit("$translateLoadingEnd",{language:n})},e.displayName="onLoaderSuccess",o=function(n){i.$emit("$translateLoadingError",{language:n});f.reject(n);i.$emit("$translateLoadingEnd",{language:n})},o.displayName="onLoaderError",t.get(h)(s).then(e,o),f.promise},fi,ui;if(l&&(ht=t.get(l),!ht.get||!ht.put))throw new Error("Couldn't use storage '"+l+"', missing get() or put() method!");ut.length&&(fi=function(n){var i=t.get(n);i.setLocale(o||f);et[i.getInterpolationIdentifier()]=i},fi.displayName="interpolationFactoryAdder",angular.forEach(ut,fi));var vi=function(n){var t=r.defer(),i;return Object.prototype.hasOwnProperty.call(e,n)?t.resolve(e[n]):d[n]?(i=function(n){v(n.key,n.table);t.resolve(n.table)},i.displayName="translationTableResolver",d[n].then(i,t.reject)):t.reject(),t.promise},oi=function(n,t,i,u){var e=r.defer(),o=function(r){if(Object.prototype.hasOwnProperty.call(r,t)){u.setLocale(n);var o=r[t];"@:"===o.substr(0,2)?oi(n,o.substr(2),i,u).then(e.resolve,e.reject):e.resolve(u.interpolate(r[t],i));u.setLocale(f)}else e.reject()};return o.displayName="fallbackTranslationResolver",vi(n).then(o,e.reject),e.promise},si=function(n,t,i,r){var u,o=e[n];if(o&&Object.prototype.hasOwnProperty.call(o,t)){if(r.setLocale(n),u=r.interpolate(o[t],i),"@:"===u.substr(0,2))return si(n,u.substr(2),i,r);r.setLocale(f)}return u},ri=function(n,i){if(s){var r=t.get(s)(n,f,i);return void 0!==r?r:n}return n},hi=function(n,t,i,f,e){var o=r.defer(),s;return n<u.length?(s=u[n],oi(s,t,i,f).then(o.resolve,function(){hi(n+1,t,i,f,e).then(o.resolve)})):o.resolve(e?e:ri(t,i)),o.promise},ci=function(n,t,i,r){var f,e;return n<u.length&&(e=u[n],f=si(e,t,i,r),f||(f=ci(n+1,t,i,r))),f},yi=function(n,t,i,r){return hi(ct>0?ct:bt,n,t,i,r)},pi=function(n,t,i){return ci(ct>0?ct:bt,n,t,i)},li=function(n,t,i,o){var h=r.defer(),l=f?e[f]:e,v=i?et[i]:ni,c,a;return l&&Object.prototype.hasOwnProperty.call(l,n)?(c=l[n],"@:"===c.substr(0,2)?p(c.substr(2),t,i,o).then(h.resolve,h.reject):h.resolve(v.interpolate(c,t))):(s&&!it&&(a=ri(n,t)),f&&u&&u.length?yi(n,t,v,o).then(function(n){h.resolve(n)},function(n){h.reject(ti(n))}):s&&!it&&a?h.resolve(o?o:a):o?h.resolve(o):h.reject(ti(n))),h.promise},ai=function(n,t,i){var r,h=f?e[f]:e,c=ni,o,l;return(et&&Object.prototype.hasOwnProperty.call(et,i)&&(c=et[i]),h&&Object.prototype.hasOwnProperty.call(h,n))?(o=h[n],r="@:"===o.substr(0,2)?ai(o.substr(2),t,i):c.interpolate(o,t)):(s&&!it&&(l=ri(n,t)),f&&u&&u.length?(bt=0,r=pi(n,t,c)):r=s&&!it&&l?l:ti(n)),r},wi=function(n){w===n&&(w=void 0);d[n]=void 0};if(p.preferredLanguage=function(n){return n&&lt(n),o},p.cloakClassName=function(){return ft},p.fallbackLanguage=function(n){if(void 0!==n&&null!==n){if(at(n),h&&u&&u.length)for(var t=0,i=u.length;i>t;t++)d[u[t]]||(d[u[t]]=wt(u[t]));p.use(p.use())}return g?u[0]:u},p.useFallbackLanguage=function(n){if(void 0!==n&&null!==n)if(n){var t=c(u,n);t>-1&&(ct=t)}else ct=0},p.proposedLanguage=function(){return w},p.storage=function(){return ht},p.use=function(n){var t,u;return n?(t=r.defer(),i.$emit("$translateChangeStart",{language:n}),u=dt(n),u&&(n=u),!tt&&e[n]||!h||d[n]?w===n&&d[n]?d[n].then(function(n){return t.resolve(n.key),n},function(n){return t.reject(n),r.reject(n)}):(t.resolve(n),ii(n)):(w=n,d[n]=wt(n).then(function(n){return v(n.key,n.table),t.resolve(n.key),ii(n.key),n},function(n){return i.$emit("$translateChangeError",{language:n}),t.reject(n),i.$emit("$translateChangeEnd",{language:n}),r.reject(n)}),d[n]["finally"](function(){wi(n)})),t.promise):f},p.storageKey=function(){return vt()},p.isPostCompilingEnabled=function(){return pt},p.isForceAsyncReloadEnabled=function(){return tt},p.refresh=function(n){function p(){o.resolve();i.$emit("$translateRefreshEnd",{language:n})}function c(){o.reject();i.$emit("$translateRefreshEnd",{language:n})}var o,l,s,a,t,w,y;if(!h)throw new Error("Couldn't refresh translation table, no loader registered!");if(o=r.defer(),i.$emit("$translateRefreshStart",{language:n}),n)e[n]?(l=function(t){v(t.key,t.table);n===f&&ii(f);p()},l.displayName="refreshPostProcessor",wt(n).then(l,c)):c();else{if(s=[],a={},u&&u.length)for(t=0,w=u.length;w>t;t++)s.push(wt(u[t])),a[u[t]]=!0;f&&!a[f]&&s.push(wt(f));y=function(n){e={};angular.forEach(n,function(n){v(n.key,n.table)});f&&ii(f);p()};y.displayName="refreshPostProcessor";r.all(s).then(y,c)}return o.promise},p.instant=function(n,t,i){var r,h,l,y,a;if(null===n||angular.isUndefined(n))return n;if(angular.isArray(n)){for(var v={},c=0,w=n.length;w>c;c++)v[n[c]]=p.instant(n[c],t,i);return v}if(angular.isString(n)&&n.length<1)return n;for(n&&(n=kt.apply(n)),h=[],o&&h.push(o),f&&h.push(f),u&&u.length&&(h=h.concat(u)),l=0,y=h.length;y>l;l++)if(a=h[l],e[a]&&("undefined"!=typeof e[a][n]?r=ai(n,t,i):(b||k)&&(r=ti(n))),"undefined"!=typeof r)break;return r||""===r||(r=ni.interpolate(n,t),s&&!it&&(r=ri(n,t))),r},p.versionInfo=function(){return gt},p.loaderCache=function(){return a},p.directivePriority=function(){return ot},p.statefulFilter=function(){return st},h&&(angular.equals(e,{})&&p.use(p.use()),u&&u.length))for(var bi=function(n){return v(n.key,n.table),i.$emit("$translateChangeEnd",{language:n.key}),n},ei=0,ki=u.length;ki>ei;ei++)ui=u[ei],(tt||!e[ui])&&(d[ui]=wt(ui).then(bi));return p}]}function i(n,t){"use strict";var r,i={},u="default";return i.setLocale=function(n){r=n},i.getInterpolationIdentifier=function(){return u},i.useSanitizeValueStrategy=function(n){return t.useStrategy(n),this},i.interpolate=function(i,r){r=r||{};r=t.sanitize(r,"params");var u=n(i)(r);return t.sanitize(u,"text")},i}function r(n,t,i,r,u,f){"use strict";var e=function(){return this.toString().replace(/^\s+|\s+$/g,"")};return{restrict:"AE",scope:!0,priority:n.directivePriority(),compile:function(t,o){var h=o.translateValues?o.translateValues:void 0,c=o.translateInterpolation?o.translateInterpolation:void 0,s=t[0].outerHTML.match(/translate-value-+/i),l="^(.*)("+i.startSymbol()+".*"+i.endSymbol()+")(.*)",a="^(.*)"+i.startSymbol()+"(.*)"+i.endSymbol()+"(.*)";return function(t,v,y){var g,d,tt,k,it;t.interpolateParams={};t.preText="";t.postText="";var p={},rt=function(n,i,r){var f,e;if(i.translateValues&&angular.extend(n,u(i.translateValues)(t.$parent)),s)for(f in r)Object.prototype.hasOwnProperty.call(i,f)&&"translateValue"===f.substr(0,14)&&"translateValues"!==f&&(e=angular.lowercase(f.substr(14,1))+f.substr(15),n[e]=r[f])},w=function(n){var r,u;(angular.isFunction(w._unwatchOld)&&(w._unwatchOld(),w._unwatchOld=void 0),angular.equals(n,"")||!angular.isDefined(n))?(r=e.apply(v.text()).match(l),angular.isArray(r)?(t.preText=r[1],t.postText=r[3],p.translate=i(r[2])(t.$parent),u=v.text().match(a),angular.isArray(u)&&u[2]&&u[2].length&&(w._unwatchOld=t.$watch(u[2],function(n){p.translate=n;b()}))):p.translate=v.text().replace(/^\s+|\s+$/g,"")):p.translate=n;b()},ut=function(n){y.$observe(n,function(t){p[n]=t;b()})};rt(t.interpolateParams,y,o);g=!0;y.$observe("translate",function(n){"undefined"==typeof n?w(""):""===n&&g||(p.translate=n,b());g=!1});for(d in y)y.hasOwnProperty(d)&&"translateAttr"===d.substr(0,13)&&ut(d);if(y.$observe("translateDefault",function(n){t.defaultText=n}),h&&y.$observe("translateValues",function(n){n&&t.$parent.$watch(function(){angular.extend(t.interpolateParams,u(n)(t.$parent))})}),s){tt=function(n){y.$observe(n,function(i){var r=angular.lowercase(n.substr(14,1))+n.substr(15);t.interpolateParams[r]=i})};for(k in y)Object.prototype.hasOwnProperty.call(y,k)&&"translateValue"===k.substr(0,14)&&"translateValues"!==k&&tt(k)}var b=function(){for(var n in p)p.hasOwnProperty(n)&&void 0!==p[n]&&ft(n,p[n],t,t.interpolateParams,t.defaultText)},ft=function(t,i,r,u,f){i?n(i,u,c,f).then(function(n){nt(n,r,!0,t)},function(n){nt(n,r,!1,t)}):nt(i,r,!1,t)},nt=function(t,i,u,f){var e;if("translate"===f){u||"undefined"==typeof i.defaultText||(t=i.defaultText);v.html(i.preText+t+i.postText);var h=n.isPostCompilingEnabled(),s="undefined"!=typeof o.translateCompile,c=s&&"false"!==o.translateCompile;(h&&!s||c)&&r(v.contents())(i)}else u||"undefined"==typeof i.defaultText||(t=i.defaultText),e=y.$attr[f],"data-"===e.substr(0,5)&&(e=e.substr(5)),e=e.substr(15),v.attr(e,t)};(h||s||y.translateDefault)&&t.$watch("interpolateParams",b,!0);it=f.$on("$translateChangeSuccess",b);v.text().length?w(y.translate?y.translate:""):y.translate&&w(y.translate);b();t.$on("$destroy",it)}}}}function u(n,t){"use strict";return{compile:function(i){var r=function(){i.addClass(t.cloakClassName())},u=function(){i.removeClass(t.cloakClassName())},f=n.$on("$translateChangeEnd",function(){u();f();f=null});return r(),function(n,i,f){f.translateCloak&&f.translateCloak.length&&f.$observe("translateCloak",function(n){t(n).then(u,r)})}}}}function f(n,t){"use strict";var i=function(i,r,u){return angular.isObject(r)||(r=n(r)(this)),t.instant(i,r,u)};return t.statefulFilter()&&(i.$stateful=!0),i}function e(n){"use strict";return n("translations")}return angular.module("pascalprecht.translate",["ng"]).run(n),n.$inject=["$translate"],n.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",o),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",t),t.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],t.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",i),i.$inject=["$interpolate","$translateSanitization"],i.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",r),r.$inject=["$translate","$q","$interpolate","$compile","$parse","$rootScope"],r.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateCloak",u),u.$inject=["$rootScope","$translate"],u.displayName="translateCloakDirective",angular.module("pascalprecht.translate").filter("translate",f),f.$inject=["$parse","$translate"],f.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",e),e.$inject=["$cacheFactory"],e.displayName="$translationCache","pascalprecht.translate"});!function(){"use strict";function n(n){return angular.isUndefined(n)||null===n}function i(){try{return require("moment")}catch(n){throw new Error("Please install moment via npm. Please reference to: https://github.com/urish/angular-moment");}}function t(t,r){if("undefined"==typeof r){if("function"!=typeof require)throw new Error("Moment cannot be found by angular-moment! Please reference to: https://github.com/urish/angular-moment");r=i()}return t.module("angularMoment",[]).constant("angularMomentConfig",{preprocess:null,timezone:null,format:null,statefulFilters:!0}).constant("moment",r).constant("amTimeAgoConfig",{withoutSuffix:!1,serverTime:null,titleFormat:null,fullDateThreshold:null,fullDateFormat:null,fullDateThresholdUnit:"day"}).directive("amTimeAgo",["$window","moment","amMoment","amTimeAgoConfig",function(i,r,u,f){return function(e,o,s){function a(){var n,t,i;return y?n=y:f.serverTime?(t=(new Date).getTime(),i=t-tt+f.serverTime,n=r(i)):n=r(),n}function v(){l&&(i.clearTimeout(l),l=null)}function b(n){var f=a().diff(n,nt),u=w&&f>=w,r,t;(u?o.text(n.format(g)):o.text(n.from(a(),p)),d&&ut&&o.attr("title",n.format(d)),u)||(r=Math.abs(a().diff(n,"minute")),t=3600,r<1?t=1:r<60?t=30:r<180&&(t=300),l=i.setTimeout(function(){b(n)},1e3*t))}function k(n){rt&&o.attr("datetime",n)}function h(){if(v(),c){var n=u.preprocessDate(c);b(n);k(n.toISOString())}}var c,y,l=null,p=f.withoutSuffix,d=f.titleFormat,w=f.fullDateThreshold,g=f.fullDateFormat,nt=f.fullDateThresholdUnit,tt=(new Date).getTime(),it=s.amTimeAgo,rt="TIME"===o[0].nodeName.toUpperCase(),ut=!o.attr("title");e.$watch(it,function(t){return n(t)||""===t?(v(),void(c&&(o.text(""),k(""),c=null))):(c=t,void h())});t.isDefined(s.amFrom)&&e.$watch(s.amFrom,function(t){y=n(t)||""===t?null:r(t);h()});t.isDefined(s.amWithoutSuffix)&&e.$watch(s.amWithoutSuffix,function(n){"boolean"==typeof n?(p=n,h()):p=f.withoutSuffix});s.$observe("amFullDateThreshold",function(n){w=n;h()});s.$observe("amFullDateFormat",function(n){g=n;h()});s.$observe("amFullDateThresholdUnit",function(n){nt=n;h()});e.$on("$destroy",function(){v()});e.$on("amMoment:localeChanged",function(){h()})}}]).service("amMoment",["moment","$rootScope","$log","angularMomentConfig",function(n,i,r,u){var f=null;this.changeLocale=function(r,u){var f=n.locale(r,u);return t.isDefined(r)&&i.$broadcast("amMoment:localeChanged"),f};this.changeTimezone=function(t){n.tz&&n.tz.setDefault?(n.tz.setDefault(t),i.$broadcast("amMoment:timezoneChanged")):r.warn("angular-moment: changeTimezone() works only with moment-timezone.js v0.3.0 or greater.");u.timezone=t;f=t};this.preprocessDate=function(t){return f!==u.timezone&&this.changeTimezone(u.timezone),u.preprocess?u.preprocess(t):n(!isNaN(parseFloat(t))&&isFinite(t)?parseInt(t,10):t)}}]).filter("amParse",["moment",function(n){return function(t,i){return n(t,i)}}]).filter("amFromUnix",["moment",function(n){return function(t){return n.unix(t)}}]).filter("amUtc",["moment",function(n){return function(t){return n.utc(t)}}]).filter("amUtcOffset",["amMoment",function(n){function t(t,i){return n.preprocessDate(t).utcOffset(i)}return t}]).filter("amLocal",["moment",function(n){return function(t){return n.isMoment(t)?t.local():null}}]).filter("amTimezone",["amMoment","angularMomentConfig","$log",function(n,t,i){function r(t,r){var u=n.preprocessDate(t);return r?u.tz?u.tz(r):(i.warn("angular-moment: named timezone specified but moment.tz() is undefined. Did you forget to include moment-timezone.js ?"),u):u}return r}]).filter("amCalendar",["moment","amMoment","angularMomentConfig",function(t,i,r){function u(t,r,u){if(n(t))return"";var f=i.preprocessDate(t);return f.isValid()?f.calendar(r,u):""}return u.$stateful=r.statefulFilters,u}]).filter("amDifference",["moment","amMoment","angularMomentConfig",function(t,i,r){function u(r,u,f,e){if(n(r))return"";var o=i.preprocessDate(r),s=n(u)?t():i.preprocessDate(u);return o.isValid()&&s.isValid()?o.diff(s,f,e):""}return u.$stateful=r.statefulFilters,u}]).filter("amDateFormat",["moment","amMoment","angularMomentConfig",function(t,i,r){function u(t,r){if(n(t))return"";var u=i.preprocessDate(t);return u.isValid()?u.format(r):""}return u.$stateful=r.statefulFilters,u}]).filter("amDurationFormat",["moment","angularMomentConfig",function(t,i){function r(i,r,u){return n(i)?"":t.duration(i,r).humanize(u)}return r.$stateful=i.statefulFilters,r}]).filter("amTimeAgo",["moment","amMoment","angularMomentConfig",function(t,i,r){function u(r,u,f){var e,o;return n(r)?"":(r=i.preprocessDate(r),e=t(r),e.isValid()?(o=t(f),!n(f)&&o.isValid()?e.from(o,u):e.fromNow(u)):"")}return u.$stateful=r.statefulFilters,u}]).filter("amSubtract",["moment","angularMomentConfig",function(t,i){function r(i,r,u){return n(i)?"":t(i).subtract(parseInt(r,10),u)}return r.$stateful=i.statefulFilters,r}]).filter("amAdd",["moment","angularMomentConfig",function(t,i){function r(i,r,u){return n(i)?"":t(i).add(parseInt(r,10),u)}return r.$stateful=i.statefulFilters,r}]).filter("amStartOf",["moment","angularMomentConfig",function(t,i){function r(i,r){return n(i)?"":t(i).startOf(r)}return r.$stateful=i.statefulFilters,r}]).filter("amEndOf",["moment","angularMomentConfig",function(t,i){function r(i,r){return n(i)?"":t(i).endOf(r)}return r.$stateful=i.statefulFilters,r}]),"angularMoment"}var r=window&&window.process&&window.process.type;"function"==typeof define&&define.amd?define(["angular","moment"],t):"undefined"!=typeof module&&module&&module.exports&&"function"==typeof require&&!r?module.exports=t(require("angular"),require("moment")):t(angular,("undefined"!=typeof global?global:window).moment)}();angular.module("pos.ui.numeric",[]).directive("uiNumeric",["$filter",function(){"use strict";var n={};return{require:"?ngModel",restrict:"A",compile:function(t,i){var r=t.is("input:text");return function(t,u,f,e){var o=angular.extend({},n,t.$eval(f.uiNumeric)),s=function(n,t){$.isNumeric(t)&&n.autoNumeric("set",t)};o.aPad=!1;"undefined"==typeof o.mDec&&(o.mDec=3);u.autoNumeric(o);e&&r?(t.$watch(i.ngModel,function(){e.$render()}),e.$render=function(){s(u,e.$viewValue)},u.on("change",function(){t.$apply(function(){e.$setViewValue(u.autoNumeric("get"))})}),$(u).bind("keydown",function(n){var f=n.keyCode||n.which,r,t;if(13===f){var i=$("input[ui-numeric]:visible:not([disabled])"),e=i.index(this),o=!0;if(e===i.length-1)i[0].focus();else for(r=0;r<i.length;r++){if(!o){i[r].focus();break}e===r&&(o=!1)}}else 107===f?(t=u.autoNumeric("get"),t=t?parseFloat(t):t,t++,s(u,t)):109===f&&(t=u.autoNumeric("get"),t=t?parseFloat(t):t,t>1&&(t--,s(u,t)))}),e.$parsers.unshift(function(){var n=u.autoNumeric("get");return n?parseFloat(n):n})):r&&f.$observe("value",function(n){s(u,n)})}}}}]);window.UploaderForGoogleDrive=function(){"use strict";var t=function(){this.interval=1e3;this.maxInterval=6e4},n;return t.prototype.retry=function(n){setTimeout(n,this.interval);this.interval=this.nextInterval_()},t.prototype.reset=function(){this.interval=1e3},t.prototype.nextInterval_=function(){var n=this.interval*2+this.getRandomInt_(0,1e3);return Math.min(n,this.maxInterval)},t.prototype.getRandomInt_=function(n,t){return Math.floor(Math.random()*(t-n+1)+n)},n=function(n){var i=function(){},r;if(this.file=n.file,this.contentType=n.contentType||this.file.type||"application/octet-stream",this.metadata=n.metadata||{name:this.file.name,mimeType:this.contentType},n.token)this.token=n.token;else try{this.token=window.gapi.auth2.getAuthInstance().currentUser.get().getAuthResponse(!0).access_token}catch(u){console.log(u);throw new Error("Uploader: missing Google OAuth2 access_token");}this.onComplete=n.onComplete||i;this.onProgress=n.onProgress||i;this.onError=n.onError||i;this.offset=n.offset||0;this.chunkSize=n.chunkSize||0;this.retryHandler=new t;this.url=n.url;this.url||(r=n.params||{},r.uploadType="resumable",this.url=this.buildUrl_(n.fileId,r,n.baseUrl));this.httpMethod=n.fileId?"PATCH":"POST"},n.prototype.upload=function(){var t=this,n=new XMLHttpRequest;n.open(this.httpMethod,this.url,!0);n.setRequestHeader("Authorization","Bearer "+this.token);n.setRequestHeader("Content-Type","application/json");n.setRequestHeader("X-Upload-Content-Length",this.file.size);n.setRequestHeader("X-Upload-Content-Type",this.contentType);n.onload=function(n){if(n.target.status<400){var t=n.target.getResponseHeader("Location");this.url=t;this.sendFile_()}else this.onUploadError_(n)}.bind(this);n.onerror=this.onUploadError_.bind(this);n.send(JSON.stringify(this.metadata))},n.prototype.sendFile_=function(){var t=this.file,i=this.file.size,n;(this.offset||this.chunkSize)&&(this.chunkSize&&(i=Math.min(this.offset+this.chunkSize,this.file.size)),t=t.slice(this.offset,i));n=new XMLHttpRequest;n.open("PUT",this.url,!0);n.setRequestHeader("Content-Type",this.contentType);n.setRequestHeader("Content-Range","bytes "+this.offset+"-"+(i-1)+"/"+this.file.size);n.setRequestHeader("X-Upload-Content-Type",this.file.type);n.upload&&n.upload.addEventListener("progress",this.onProgress);n.onload=this.onContentUploadSuccess_.bind(this);n.onerror=this.onContentUploadError_.bind(this);n.send(t)},n.prototype.resume_=function(){var n=new XMLHttpRequest;n.open("PUT",this.url,!0);n.setRequestHeader("Content-Range","bytes */"+this.file.size);n.setRequestHeader("X-Upload-Content-Type",this.file.type);n.upload&&n.upload.addEventListener("progress",this.onProgress);n.onload=this.onContentUploadSuccess_.bind(this);n.onerror=this.onContentUploadError_.bind(this);n.send()},n.prototype.extractRange_=function(n){var t=n.getResponseHeader("Range");t&&(this.offset=parseInt(t.match(/\d+/g).pop(),10)+1)},n.prototype.onContentUploadSuccess_=function(n){if(n.target.status==200||n.target.status==201)this.onComplete(n.target.response);else if(n.target.status==308)this.extractRange_(n.target),this.retryHandler.reset(),this.sendFile_();else this.onContentUploadError_(n)},n.prototype.onContentUploadError_=function(n){if(n.target.status&&n.target.status<500)this.onError(n.target.response);else this.retryHandler.retry(this.resume_.bind(this))},n.prototype.onUploadError_=function(n){this.onError(n.target.response)},n.prototype.buildQuery_=function(n){return n=n||{},Object.keys(n).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(n[t])}).join("&")},n.prototype.buildUrl_=function(n,t,i){var r=i||"https://www.googleapis.com/upload/drive/v3/files/",u;return n&&(r+=n),u=this.buildQuery_(t),u&&(r+="?"+u),r},n}();window.pUploaderForGoogleDrive=function(n){"use strict";return new Promise(function(t,i){n.onComplete=function(n){var i;try{i=typeof n=="string"?JSON.parse(n):n}catch(r){i=n}t(i)};n.onError=function(n){i(n)};var r=new window.UploaderForGoogleDrive(n);r.upload()})};angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(n,t,i){this.groups=[];this.closeOthers=function(r){var u=angular.isDefined(t.closeOthers)?n.$eval(t.closeOthers):i.closeOthers;u&&angular.forEach(this.groups,function(n){n!==r&&(n.isOpen=!1)})};this.addGroup=function(n){var t=this;this.groups.push(n);n.$on("$destroy",function(){t.removeGroup(n)})};this.removeGroup=function(n){var t=this.groups.indexOf(n);t!==-1&&this.groups.splice(t,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",controllerAs:"accordion",transclude:!0,replace:!1,templateUrl:function(n,t){return t.templateUrl||"template/accordion/accordion.html"}}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(n,t){return t.templateUrl||"template/accordion/accordion-group.html"},scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(n){this.heading=n}},link:function(n,t,i,r){r.addGroup(n);n.openClass=i.openClass||"panel-open";n.$watch("isOpen",function(i){t.toggleClass(n.openClass,i);i&&r.closeOthers(n)});n.toggleOpen=function(){n.isDisabled||(n.isOpen=!n.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(n,t,i,r,u){r.setHeading(u(n,angular.noop))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(n,t,i,r){n.$watch(function(){return r[i.accordionTransclude]},function(n){n&&(t.find("span").html(""),t.find("span").append(n))})}}});angular.module("ui.bootstrap.bindHtml",[]).value("$bindHtmlUnsafeSuppressDeprecated",!1).directive("bindHtmlUnsafe",["$log","$bindHtmlUnsafeSuppressDeprecated",function(n,t){return function(i,r,u){t||n.warn("bindHtmlUnsafe is now deprecated. Use ngBindHtml instead");r.addClass("ng-binding").data("$binding",u.bindHtmlUnsafe);i.$watch(u.bindHtmlUnsafe,function(n){r.html(n||"")})}}]);angular.module("ui.bootstrap.collapse",[]).directive("collapse",["$animate",function(n){return{link:function(t,i,r){function f(){i.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1);n.addClass(i,"in",{to:{height:i[0].scrollHeight+"px"}}).then(e)}function e(){i.removeClass("collapsing");i.css({height:"auto"})}function o(){if(!i.hasClass("collapse")&&!i.hasClass("in"))return u();i.css({height:i[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0);n.removeClass(i,"in",{to:{height:"0"}}).then(u)}function u(){i.css({height:"0"});i.removeClass("collapsing");i.addClass("collapse")}t.$watch(r.collapse,function(n){n?o():f()})}}}]);angular.module("ui.bootstrap.modal",[]).factory("$$stackedMap",function(){return{createNew:function(){var n=[];return{add:function(t,i){n.push({key:t,value:i})},get:function(t){for(var i=0;i<n.length;i++)if(t==n[i].key)return n[i]},keys:function(){for(var i=[],t=0;t<n.length;t++)i.push(n[t].key);return i},top:function(){return n[n.length-1]},remove:function(t){for(var r=-1,i=0;i<n.length;i++)if(t==n[i].key){r=i;break}return n.splice(r,1)[0]},removeTop:function(){return n.splice(n.length-1,1)[0]},length:function(){return n.length}}}}}).directive("modalBackdrop",["$animate","$modalStack",function(n,t){function i(i,r,u){u.modalInClass&&(n.addClass(r,u.modalInClass),i.$on(t.NOW_CLOSING_EVENT,function(t,i){var f=i();n.removeClass(r,u.modalInClass).then(f)}))}return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(n,t){return n.addClass(t.backdropClass),i}}}]).directive("modalWindow",["$modalStack","$q","$animate",function(n,t,i){return{restrict:"EA",scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(n,t){return t.templateUrl||"template/modal/window.html"},link:function(r,u,f){u.addClass(f.windowClass||"");r.size=f.size;r.close=function(t){var i=n.getTop();i&&i.value.backdrop&&i.value.backdrop!="static"&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),n.dismiss(i.key,"backdrop click"))};r.$isRendered=!0;var e=t.defer();f.$observe("modalRender",function(n){n=="true"&&e.resolve()});e.promise.then(function(){var t,e;f.modalInClass&&(i.addClass(u,f.modalInClass),r.$on(n.NOW_CLOSING_EVENT,function(n,t){var r=t();i.removeClass(u,f.modalInClass).then(r)}));t=u[0].querySelectorAll("[autofocus]");t.length?t[0].focus():u[0].focus();e=n.getTop();e&&n.modalRendered(e.key)})}}}]).directive("modalAnimationClass",[function(){return{compile:function(n,t){t.modalAnimation&&n.addClass(t.modalAnimationClass)}}}]).directive("modalTransclude",function(){return{link:function(n,t,i,r,u){u(n.$parent,function(n){t.empty();t.append(n)})}}}).factory("$modalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$$stackedMap",function(n,t,i,r,u,f,e){function a(){for(var t=-1,i=s.keys(),n=0;n<i.length;n++)s.get(i[n]).value.backdrop&&(t=n);return t}function y(n,t){var r=i.find("body").eq(0),u=s.get(n).value;s.remove(n);p(u.modalDomEl,u.modalScope,function(){r.toggleClass(v,s.length()>0)});d();t&&t.focus?t.focus():r.focus()}function d(){if(l&&a()==-1){var n=c;p(l,c,function(){n=null});l=undefined;c=undefined}}function p(t,i,r){function e(){e.done||(e.done=!0,n.leave(t),i.$destroy(),r&&r())}var u,s=null,h=function(){return u||(u=f.defer(),s=u.promise),function(){u.resolve()}};return i.$broadcast(o.NOW_CLOSING_EVENT,h),f.when(s).then(e)}function w(n,t,i){return!n.value.modalScope.$broadcast("modal.closing",t,i).defaultPrevented}var v="modal-open",l,c,s=e.createNew(),o={NOW_CLOSING_EVENT:"modal.stack.now-closing"},h,b=0,k="a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]";return u.$watch(a,function(n){c&&(c.index=n)}),i.bind("keydown",function(n){var t=s.top(),i;if(t&&t.value.keyboard)switch(n.which){case 27:n.preventDefault();u.$apply(function(){o.dismiss(t.key,"escape key press")});break;case 9:o.loadFocusElementList(t);i=!1;n.shiftKey?o.isFocusInFirstItem(n)&&(i=o.focusLastFocusableElement()):o.isFocusInLastItem(n)&&(i=o.focusFirstFocusableElement());i&&(n.preventDefault(),n.stopPropagation())}}),o.open=function(n,t){var w=i[0].activeElement,f,y,e,h,p;s.add(n,{deferred:t.deferred,renderDeferred:t.renderDeferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard});f=i.find("body").eq(0);y=a();y>=0&&!l&&(c=u.$new(!0),c.index=y,e=angular.element('<div modal-backdrop="modal-backdrop"><\/div>'),e.attr("backdrop-class",t.backdropClass),t.animation&&e.attr("modal-animation","true"),l=r(e)(c),f.append(l));h=angular.element('<div modal-window="modal-window"><\/div>');h.attr({"template-url":t.windowTemplateUrl,"window-class":t.windowClass,size:t.size,index:s.length()-1,animate:"animate"}).html(t.content);t.animation&&h.attr("modal-animation","true");p=r(h)(t.scope);s.top().value.modalDomEl=p;s.top().value.modalOpener=w;f.append(p);f.addClass(v);o.clearFocusListCache()},o.close=function(n,t){var i=s.get(n);return i&&w(i,t,!0)?(i.value.modalScope.$$uibDestructionScheduled=!0,i.value.deferred.resolve(t),y(n,i.value.modalOpener),!0):!i},o.dismiss=function(n,t){var i=s.get(n);return i&&w(i,t,!1)?(i.value.modalScope.$$uibDestructionScheduled=!0,i.value.deferred.reject(t),y(n,i.value.modalOpener),!0):!i},o.dismissAll=function(n){for(var t=this.getTop();t&&this.dismiss(t.key,n);)t=this.getTop()},o.getTop=function(){return s.top()},o.modalRendered=function(n){var t=s.get(n);t&&t.value.renderDeferred.resolve()},o.focusFirstFocusableElement=function(){return h.length>0?(h[0].focus(),!0):!1},o.focusLastFocusableElement=function(){return h.length>0?(h[h.length-1].focus(),!0):!1},o.isFocusInFirstItem=function(n){return h.length>0?(n.target||n.srcElement)==h[0]:!1},o.isFocusInLastItem=function(n){return h.length>0?(n.target||n.srcElement)==h[h.length-1]:!1},o.clearFocusListCache=function(){h=[];b=0},o.loadFocusElementList=function(n){if((h===undefined||!h.length0)&&n){var t=n.value.modalDomEl;t&&t.length&&(h=t[0].querySelectorAll(k))}},o}]).provider("$modal",function(){var n={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$modalStack",function(t,i,r,u,f,e){function s(n){return n.template?r.when(n.template):u(angular.isFunction(n.templateUrl)?n.templateUrl():n.templateUrl)}function h(n){var i=[];return angular.forEach(n,function(n){(angular.isFunction(n)||angular.isArray(n))&&i.push(r.when(t.invoke(n)))}),i}var o={};return o.open=function(t){var o=r.defer(),c=r.defer(),a=r.defer(),u={result:o.promise,opened:c.promise,rendered:a.promise,close:function(n){return e.close(u,n)},dismiss:function(n){return e.dismiss(u,n)}},l;if(t=angular.extend({},n.options,t),t.resolve=t.resolve||{},!t.template&&!t.templateUrl)throw new Error("One of template or templateUrl options is required.");return l=r.all([s(t)].concat(h(t.resolve))),l.then(function(n){var r=(t.scope||i).$new(),h,s,c;r.$close=u.close;r.$dismiss=u.dismiss;r.$on("$destroy",function(){r.$$uibDestructionScheduled||r.$dismiss("$uibUnscheduledDestruction")});s={};c=1;t.controller&&(s.$scope=r,s.$modalInstance=u,angular.forEach(t.resolve,function(t,i){s[i]=n[c++]}),h=f(t.controller,s),t.controllerAs&&(t.bindToController&&angular.extend(h,r),r[t.controllerAs]=h));e.open(u,{scope:r,deferred:o,renderDeferred:a,content:n[0],animation:t.animation,backdrop:t.backdrop,keyboard:t.keyboard,backdropClass:t.backdropClass,windowClass:t.windowClass,windowTemplateUrl:t.windowTemplateUrl,size:t.size})},function(n){o.reject(n)}),l.then(function(){c.resolve(!0)},function(n){c.reject(n)}),u},o}]};return n});angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html"}}).directive("popoverTemplate",["$tooltip",function(n){return n("popoverTemplate","popover","click",{useContentExp:!0})}]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(n){return n("popover","popover","click")}]);angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(n,t){function i(n,i){return n.currentStyle?n.currentStyle[i]:t.getComputedStyle?t.getComputedStyle(n)[i]:n.style[i]}function r(n){return(i(n,"position")||"static")==="static"}var u=function(t){for(var u=n[0],i=t.offsetParent||u;i&&i!==u&&r(i);)i=i.offsetParent;return i||u};return{position:function(t){var e=this.offset(t),r={top:0,left:0},i=u(t[0]),f;return i!=n[0]&&(r=this.offset(angular.element(i)),r.top+=i.clientTop-i.scrollTop,r.left+=i.clientLeft-i.scrollLeft),f=t[0].getBoundingClientRect(),{width:f.width||t.prop("offsetWidth"),height:f.height||t.prop("offsetHeight"),top:e.top-r.top,left:e.left-r.left}},offset:function(i){var r=i[0].getBoundingClientRect();return{width:r.width||i.prop("offsetWidth"),height:r.height||i.prop("offsetHeight"),top:r.top+(t.pageYOffset||n[0].documentElement.scrollTop),left:r.left+(t.pageXOffset||n[0].documentElement.scrollLeft)}},positionElements:function(n,t,i,r){var a=i.split("-"),h=a[0],e=a[1]||"center",u,c,l,f,o,s;u=r?this.offset(n):this.position(n);c=t.prop("offsetWidth");l=t.prop("offsetHeight");o={center:function(){return u.left+u.width/2-c/2},left:function(){return u.left},right:function(){return u.left+u.width}};s={center:function(){return u.top+u.height/2-l/2},top:function(){return u.top},bottom:function(){return u.top+u.height}};switch(h){case"right":f={top:s[e](),left:o[h]()};break;case"left":f={top:s[e](),left:u.left-c};break;case"bottom":f={top:s[h](),left:o[e]()};break;default:f={top:u.top-l,left:o[e]()}}return f}}}]),function(){"use strict";function r(n){var t=this;t.stc=n}function u(n){var t=this;t.stc=n}function f(n){var t=this;t.stc=n}function t(n,t){var i=this;i.$tabsContainer=n;i.$timeout=t;i.movableContainerLeftPos=0;i.scrollArrowsVisible=!0;i.scrollToTabEdge=!1;i.scrollMovement=new f(i);i.eventHandlers=new r(i);i.elementsHandler=new u(i)}function e(n,i){function r(n){return i.trustAsHtml(n)}return{restrict:"E",template:s,transclude:!1,replace:!0,scope:{tabs:"@",watchTabs:"=",propPaneId:"@",propTitle:"@",propActive:"@",propDisabled:"@",localTabClick:"&tabClick"},link:function(i,u,f){var e=new t(u,n),o=f.scrollToTabEdge&&f.scrollToTabEdge.toLowerCase()==="true";i.tabsArr=i.$eval(i.tabs);i.propPaneId=i.propPaneId||"paneId";i.propTitle=i.propTitle||"title";i.propActive=i.propActive||"active";i.propDisabled=i.propDisabled||"disabled";i.sanitize=r;u.on("click.scrollingTabs",".nav-tabs > li",function(n){var t=$(this).data();i.localTabClick({$event:n,$index:t.index,tab:t.tab})});if(!f.watchTabs){e.initTabs({isWrapperDirective:!1,scrollToTabEdge:o});return}i.$watch("watchTabs",function(t){var r,f;i.tabsArr=i.$eval(i.tabs);t.length&&t[t.length-1].active?n(function(){u.find("ul.nav-tabs > li:last").removeClass("active").find('a[role="tab"]').click()},0):(r=u.find(".nav-tabs > li.active"),r.length&&(f=r.data("index"),i.tabsArr.some(function(n){if(n[i.propActive])return n[i.propActive]=!1,!0}),i.tabsArr[f][i.propActive]=!0));e.initTabs({isWrapperDirective:!1,isWatchingTabsArray:!0,scrollToTabEdge:o})},!0)}}}function o(n){return{restrict:"A",template:h,transclude:!0,replace:!0,link:function(i,r,u){var e=new t(r,n),f=r.find("tabset").length>0,o=u.scrollToTabEdge&&u.scrollToTabEdge.toLowerCase()==="true";if(!u.watchTabs){e.initTabs({isWrapperDirective:!0,isWrappingAngularUITabset:f,scrollToTabEdge:o});return}i.$watch(u.watchTabs,function(t){f||t.length&&t[t.length-1].active&&n(function(){r.find("ul.nav-tabs > li:last").removeClass("active").find('a[role="tab"]').click()},0);e.initTabs({isWrapperDirective:!0,isWrappingAngularUITabset:f,isWatchingTabsArray:!0,scrollToTabEdge:o})},!0)}}}var n={CONTINUOUS_SCROLLING_TIMEOUT_INTERVAL:50,SCROLL_OFFSET_FRACTION:6,DATA_KEY_IS_MOUSEDOWN:"ismousedown"},i=angular.module("mj.scrollingTabs",[]),s='<div class="scrtabs-tab-container"> <div class="scrtabs-tab-scroll-arrow scrtabs-js-tab-scroll-arrow-left"><span class="glyphicon glyphicon-chevron-left"><\/span><\/div>   <div class="scrtabs-tabs-fixed-container">     <div class="scrtabs-tabs-movable-container">       <ul class="nav nav-tabs" role="tablist">         <li ng-class="{ \'active\': tab[propActive || \'active\'],                          \'disabled\': tab[propDisabled || \'disabled\'] }"              data-tab="{{tab}}" data-index="{{$index}}" ng-repeat="tab in tabsArr">           <a ng-href="{{\'#\' + tab[propPaneId || \'paneId\']}}" role="tab"                data-toggle="{{tab[propDisabled || \'disabled\'] ? \'\' : \'tab\'}}"                 ng-bind-html="sanitize(tab[propTitle || \'title\']);">           <\/a>         <\/li>       <\/ul>     <\/div> <\/div> <div class="scrtabs-tab-scroll-arrow scrtabs-js-tab-scroll-arrow-right"><span class="glyphicon glyphicon-chevron-right"><\/span><\/div><\/div>',h='<div class="scrtabs-tab-container"> <div class="scrtabs-tab-scroll-arrow scrtabs-js-tab-scroll-arrow-left"><span class="glyphicon glyphicon-chevron-left"><\/span><\/div>   <div class="scrtabs-tabs-fixed-container">     <div class="scrtabs-tabs-movable-container" ng-transclude><\/div>   <\/div> <div class="scrtabs-tab-scroll-arrow scrtabs-js-tab-scroll-arrow-right"><span class="glyphicon glyphicon-chevron-right"><\/span><\/div><\/div>';(function(n,t){var i=function(n,t,i){var r;return function(){function e(){i||n.apply(u,f);r=null}var u=this,f=arguments;r?clearTimeout(r):i&&n.apply(u,f);r=setTimeout(e,t||100)}};jQuery.fn[t]=function(n){return n?this.bind("resize.scrtabs",i(n)):this.trigger(t)}})(jQuery,"smartresize"),function(n){n.handleClickOnLeftScrollArrow=function(){var n=this,t=n.stc;t.scrollMovement.incrementScrollLeft()};n.handleClickOnRightScrollArrow=function(){var t=this,i=t.stc,n=i.scrollMovement;n.incrementScrollRight(n.getMinPos())};n.handleMousedownOnLeftScrollArrow=function(){var n=this,t=n.stc;t.scrollMovement.startScrollLeft()};n.handleMousedownOnRightScrollArrow=function(){var n=this,t=n.stc;t.scrollMovement.startScrollRight()};n.handleMouseupOnLeftScrollArrow=function(){var n=this,t=n.stc;t.scrollMovement.stopScrollLeft()};n.handleMouseupOnRightScrollArrow=function(){var n=this,t=n.stc;t.scrollMovement.stopScrollRight()};n.handleWindowResize=function(){var i=this,n=i.stc,t=n.$win.width();if(t===n.winWidth)return!1;n.winWidth=t;n.elementsHandler.refreshAllElementSizes()}}(r.prototype),function(n){n.initElements=function(n){var t=this,i=t.stc,r=i.$tabsContainer;t.setElementReferences();n.isWrappingAngularUITabset&&t.moveTabContentOutsideScrollContainer(n);t.setEventListeners()};n.moveTabContentOutsideScrollContainer=function(n){var o=this,s=o.stc,t=s.$tabsContainer,r="scrtabs-tab-content-clone",u="scrtabs-tab-content-hidden",i=t.find(".tab-content").not("."+r),f,e;if(!n.isWatchingTabsArray){i.appendTo(t);return}i.hasClass(u)||i.addClass(u);e=i.clone().removeClass(u).addClass(r);f=t.find("."+r);f.length?f.replaceWith(e):t.append(e)};n.refreshAllElementSizes=function(){var t=this,n=t.stc,i=n.scrollMovement,f=n.scrollArrowsVisible,u={didScrollToActiveTab:!1},r;return t.setElementWidths(),t.setScrollArrowVisibility(),n.scrollArrowsVisible&&t.setFixedContainerWidthForJustVisibleScrollArrows(),(n.scrollArrowsVisible||f)&&(n.scrollArrowsVisible?(r=i.getMinPos(),n.movableContainerLeftPos<r?i.incrementScrollRight(r):(i.scrollToActiveTab({isOnWindowResize:!0}),u.didScrollToActiveTab=!0)):(n.movableContainerLeftPos=0,i.slideMovableContainerToLeftPos())),u};n.setElementReferences=function(){var i=this,n=i.stc,t=n.$tabsContainer;n.isNavPills=!1;n.$fixedContainer=t.find(".scrtabs-tabs-fixed-container");n.$movableContainer=t.find(".scrtabs-tabs-movable-container");n.$tabsUl=t.find(".nav-tabs");n.$tabsUl.length||(n.$tabsUl=t.find(".nav-pills"),n.$tabsUl.length&&(n.isNavPills=!0));n.$tabsLiCollection=n.$tabsUl.find("> li");n.$leftScrollArrow=t.find(".scrtabs-js-tab-scroll-arrow-left");n.$rightScrollArrow=t.find(".scrtabs-js-tab-scroll-arrow-right");n.$scrollArrows=n.$leftScrollArrow.add(n.$rightScrollArrow);n.$win=$(window)};n.setElementWidths=function(){var t=this,n=t.stc;n.containerWidth=n.$tabsContainer.outerWidth();n.winWidth=n.$win.width();n.scrollArrowsCombinedWidth=n.$leftScrollArrow.outerWidth()+n.$rightScrollArrow.outerWidth();t.setFixedContainerWidth();t.setMovableContainerWidth()};n.setEventListeners=function(){var i=this,t=i.stc,n=t.eventHandlers;t.$leftScrollArrow.off(".scrtabs").on({"mousedown.scrtabs":function(t){n.handleMousedownOnLeftScrollArrow.call(n,t)},"mouseup.scrtabs":function(t){n.handleMouseupOnLeftScrollArrow.call(n,t)},"click.scrtabs":function(t){n.handleClickOnLeftScrollArrow.call(n,t)}});t.$rightScrollArrow.off(".scrtabs").on({"mousedown.scrtabs":function(t){n.handleMousedownOnRightScrollArrow.call(n,t)},"mouseup.scrtabs":function(t){n.handleMouseupOnRightScrollArrow.call(n,t)},"click.scrtabs":function(t){n.handleClickOnRightScrollArrow.call(n,t)}});t.$win.smartresize(function(t){n.handleWindowResize.call(n,t)})};n.setFixedContainerWidth=function(){var t=this,n=t.stc;n.$fixedContainer.width(n.fixedContainerWidth=n.$tabsContainer.outerWidth()-20)};n.setFixedContainerWidthForJustHiddenScrollArrows=function(){var t=this,n=t.stc;n.$fixedContainer.width(n.fixedContainerWidth)};n.setFixedContainerWidthForJustVisibleScrollArrows=function(){var t=this,n=t.stc;n.$fixedContainer.width(n.fixedContainerWidth-n.scrollArrowsCombinedWidth)};n.setMovableContainerWidth=function(){var t=this,n=t.stc;n.movableContainerWidth=0;n.$tabsUl.find("li").each(function(){var t=$(this),i=0;n.isNavPills&&(i=parseInt(t.css("margin-left"),10)+parseInt(t.css("margin-right"),10));n.movableContainerWidth+=t.outerWidth()+i});n.$movableContainer.width(n.movableContainerWidth+=1)};n.setScrollArrowVisibility=function(){var t=this,n=t.stc,i=n.movableContainerWidth>n.fixedContainerWidth;i&&!n.scrollArrowsVisible?(n.$scrollArrows.show(),n.scrollArrowsVisible=!0,t.setFixedContainerWidthForJustVisibleScrollArrows()):!i&&n.scrollArrowsVisible&&(n.$scrollArrows.hide(),n.scrollArrowsVisible=!1,t.setFixedContainerWidthForJustHiddenScrollArrows())}}(u.prototype),function(t){t.continueScrollLeft=function(){var t=this,i=t.stc;i.$timeout(function(){i.$leftScrollArrow.data(n.DATA_KEY_IS_MOUSEDOWN)&&i.movableContainerLeftPos<0&&(t.incrementScrollLeft()||t.continueScrollLeft())},n.CONTINUOUS_SCROLLING_TIMEOUT_INTERVAL)};t.continueScrollRight=function(t){var i=this,r=i.stc;r.$timeout(function(){r.$rightScrollArrow.data(n.DATA_KEY_IS_MOUSEDOWN)&&r.movableContainerLeftPos>t&&(i.incrementScrollRight(t)||i.continueScrollRight(t))},n.CONTINUOUS_SCROLLING_TIMEOUT_INTERVAL)};t.decrementMovableContainerLeftPos=function(t){var r=this,i=r.stc;i.movableContainerLeftPos-=i.fixedContainerWidth/n.SCROLL_OFFSET_FRACTION;i.movableContainerLeftPos<t?i.movableContainerLeftPos=t:i.scrollToTabEdge&&(r.setMovableContainerLeftPosToTabEdge("right"),i.movableContainerLeftPos<t&&(i.movableContainerLeftPos=t))};t.getMinPos=function(){var t=this,n=t.stc;return n.scrollArrowsVisible?n.fixedContainerWidth-n.movableContainerWidth-n.scrollArrowsCombinedWidth:0};t.getMovableContainerCssLeftVal=function(){var t=this,n=t.stc;return n.movableContainerLeftPos===0?"0":n.movableContainerLeftPos+"px"};t.incrementScrollLeft=function(){var i=this,t=i.stc;return t.movableContainerLeftPos+=t.fixedContainerWidth/n.SCROLL_OFFSET_FRACTION,t.movableContainerLeftPos>0?t.movableContainerLeftPos=0:t.scrollToTabEdge&&(i.setMovableContainerLeftPosToTabEdge("left"),t.movableContainerLeftPos>0&&(t.movableContainerLeftPos=0)),i.slideMovableContainerToLeftPos(),t.movableContainerLeftPos===0};t.incrementScrollRight=function(n){var t=this,i=t.stc;return t.decrementMovableContainerLeftPos(n),t.slideMovableContainerToLeftPos(),i.movableContainerLeftPos===n};t.scrollToActiveTab=function(n){var u=this,t=u.stc,i,f,e,o,r;t.scrollArrowsVisible&&(i=t.$tabsUl.find("li.active"),i.length)&&(f=i.outerWidth(),e=i.offset().left,o=t.$rightScrollArrow.offset().left,r=e+f-o,r>0&&(t.movableContainerLeftPos=n.isOnWindowResize||n.isOnTabsRefresh?t.movableContainerLeftPos-r:-r,u.slideMovableContainerToLeftPos()))};t.setMovableContainerLeftPosToTabEdge=function(n){var r=this,i=r.stc,u=-i.movableContainerLeftPos,t=0;i.$tabsLiCollection.each(function(){var r=$(this).width();return t+=r,t>u?(i.movableContainerLeftPos=n==="left"?-(t-r):-t,!1):void 0})};t.slideMovableContainerToLeftPos=function(){var n=this,t=n.stc,i;t.movableContainerLeftPos=t.movableContainerLeftPos/1;i=n.getMovableContainerCssLeftVal();t.$movableContainer.stop().animate({left:i},"slow",function(){var i=n.getMinPos();t.movableContainerLeftPos<i&&(n.decrementMovableContainerLeftPos(i),t.$movableContainer.stop().animate({left:n.getMovableContainerCssLeftVal()},"fast"))})};t.startScrollLeft=function(){var t=this,i=t.stc;i.$leftScrollArrow.data(n.DATA_KEY_IS_MOUSEDOWN,!0);t.continueScrollLeft()};t.startScrollRight=function(){var t=this,i=t.stc;i.$rightScrollArrow.data(n.DATA_KEY_IS_MOUSEDOWN,!0);t.continueScrollRight(t.getMinPos())};t.stopScrollLeft=function(){var t=this,i=t.stc;i.$leftScrollArrow.data(n.DATA_KEY_IS_MOUSEDOWN,!1)};t.stopScrollRight=function(){var t=this,i=t.stc;i.$rightScrollArrow.data(n.DATA_KEY_IS_MOUSEDOWN,!1)}}(f.prototype),function(n){n.initTabs=function(n){var t=this,i=t.elementsHandler,r=t.scrollMovement;n.scrollToTabEdge&&(t.scrollToTabEdge=!0);t.$timeout(function(){var t;i.initElements(n);t=i.refreshAllElementSizes();t.didScrollToActiveTab||r.scrollToActiveTab({isOnTabsRefresh:n.isWatchingTabsArray})},100)}}(t.prototype);e.$inject=["$timeout","$sce"];o.$inject=["$timeout"];i.directive("scrollingTabs",e);i.directive("scrollingTabsWrapper",o)}();angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(n){var i=this,t=i.tabs=n.tabs=[],r;i.select=function(n){angular.forEach(t,function(t){t.active&&t!==n&&(t.active=!1,t.onDeselect())});n.active=!0;n.onSelect()};i.addTab=function(n){t.push(n);t.length===1&&n.active!==!1?n.active=!0:n.active?i.select(n):n.active=!1};i.removeTab=function(n){var u=t.indexOf(n),f;n.active&&t.length>1&&!r&&(f=u==t.length-1?u-1:u+1,i.select(t[f]));t.splice(u,1)};n.$on("$destroy",function(){r=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(n,t,i){n.vertical=angular.isDefined(i.vertical)?n.$parent.$eval(i.vertical):!1;n.justified=angular.isDefined(i.justified)?n.$parent.$eval(i.justified):!1}}}).directive("tab",["$parse","$log",function(n,t){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(i,r,u){return function(i,r,f,e){i.$watch("active",function(n){n&&e.select(i)});i.disabled=!1;f.disable&&i.$parent.$watch(n(f.disable),function(n){i.disabled=!!n});f.disabled&&(t.warn('Use of "disabled" attribute has been deprecated, please use "disable"'),i.$parent.$watch(n(f.disabled),function(n){i.disabled=!!n}));i.select=function(){i.disabled||(i.active=!0)};e.addTab(i);i.$on("$destroy",function(){e.removeTab(i)});i.$transcludeFn=u}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(n,t){n.$watch("headingElement",function(n){n&&(t.html(""),t.append(n))})}}}]).directive("tabContentTransclude",function(){function n(n){return n.tagName&&(n.hasAttribute("tab-heading")||n.hasAttribute("data-tab-heading")||n.tagName.toLowerCase()==="tab-heading"||n.tagName.toLowerCase()==="data-tab-heading")}return{restrict:"A",require:"^tabset",link:function(t,i,r){var u=t.$eval(r.tabContentTransclude);u.$transcludeFn(u.$parent,function(t){angular.forEach(t,function(t){n(t)?u.headingElement=t:i.append(t)})})}}});angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function r(n){var t="-";return n.replace(/[A-Z]/g,function(n,i){return(i?t:"")+n.toLowerCase()})}var i={placement:"top",animation:!0,popupDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur"},t={};this.options=function(n){angular.extend(t,n)};this.setTriggers=function(t){angular.extend(n,t)};this.$get=["$window","$compile","$timeout","$document","$position","$interpolate",function(u,f,e,o,s,h){return function(u,c,l,a){function p(t){var i=(t||a.trigger||l).split(" "),r=i.map(function(t){return n[t]||t});return{show:i,hide:r}}a=angular.extend({},i,t,a);var w=r(u),v=h.startSymbol(),y=h.endSymbol(),b="<div "+w+'-popup title="'+v+"title"+y+'" '+(a.useContentExp?'content-exp="contentExp()" ':'content="'+v+"content"+y+'" ')+'placement="'+v+"placement"+y+'" popup-class="'+v+"popupClass"+y+'" animation="animation" is-open="isOpen"origin-scope="origScope" ><\/div>';return{restrict:"EA",compile:function(){var n=f(b);return function(t,i,r){function g(){f.isOpen?b():nt()}function nt(){(!lt||t.$eval(r[c+"Enable"]))&&(vt(),f.popupDelay?w||(w=e(ot,f.popupDelay,!1),w.then(function(n){n()})):ot()())}function b(){t.$apply(function(){d()})}function ot(){return(w=null,y&&(e.cancel(y),y=null),!(a.useContentExp?f.contentExp():f.content))?angular.noop:(at(),h.css({top:0,left:0,display:"block"}),f.$digest(),rt(),f.isOpen=!0,f.$apply(),rt)}function d(){f.isOpen=!1;e.cancel(w);w=null;f.animation?y||(y=e(tt,500)):tt()}function at(){h&&tt();v=f.$new();h=n(v,function(n){k?o.find("body").append(n):i.after(n)});v.$watch(function(){e(rt,0,!1)});a.useContentExp&&v.$watch("contentExp()",function(n){!n&&f.isOpen&&d()})}function tt(){y=null;h&&(h.remove(),h=null);v&&(v.$destroy(),v=null)}function vt(){yt();pt();wt()}function yt(){f.popupClass=r[c+"Class"]}function pt(){var n=r[c+"Placement"];f.placement=angular.isDefined(n)?n:a.placement}function wt(){var t=r[c+"PopupDelay"],n=parseInt(t,10);f.popupDelay=isNaN(n)?a.popupDelay:n}function st(n){f&&f.isOpen&&h&&(i[0].contains(n.target)||h[0].contains(n.target)||b())}function ht(n){n.which===27&&b()}function bt(){var u=[],f=[],n=t.$eval(r[c+"Trigger"]);it();angular.isObject(n)?(Object.keys(n).forEach(function(t){u.push(t);f.push(n[t])}),l={show:u,hide:f}):l=p(n);l.show!=="none"&&l.show.forEach(function(n,t){if(n==="outsideClick"){i.on("click",g);o.on("click",st)}else if(n===l.hide[t])i.on(n,g);else if(n){i.on(n,nt);i.on(l.hide[t],b)}i.on("keypress",ht)})}var et=t.$eval(r[c+"DisableTouch"]),ct=angular.isDefined(et)?et:!1,it,ut,ft;if(!ct||!("ontouchstart"in window||navigator.maxTouchPoints)){var h,v,y,w,k=angular.isDefined(a.appendToBody)?a.appendToBody:!1,l=p(undefined),lt=angular.isDefined(r[c+"Enable"]),f=t.$new(!0),rt=function(){if(h){var n=s.positionElements(i,h,f.placement,k);n.top+="px";n.left+="px";h.css(n)}};f.origScope=t;f.isOpen=!1;f.contentExp=function(){return t.$eval(r[u])};a.useContentExp||r.$observe(u,function(n){f.content=n;!n&&f.isOpen&&d()});r.$observe("disabled",function(n){n&&f.isOpen&&d()});r.$observe(c+"Title",function(n){f.title=n});it=function(){i.unbind(l.show,nt);i.unbind(l.hide,b)};it=function(){l.show.forEach(function(n){n==="outsideClick"?i.off("click",g):(i.off(n,nt),i.off(n,g));i.off("keypress",ht)});l.hide.forEach(function(n){n==="outsideClick"?o.off("click",st):i.off(n,b)})};bt();ut=t.$eval(r[c+"Animation"]);f.animation=angular.isDefined(ut)?!!ut:a.animation;ft=t.$eval(r[c+"AppendToBody"]);k=angular.isDefined(ft)?ft:k;k&&t.$on("$locationChangeSuccess",function(){f.isOpen&&d()});t.$on("$destroy",function(){e.cancel(y);e.cancel(w);it();tt();f=null})}}}}}}]}).directive("tooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(n,t,i,r){return{link:function(u,f,e){var a=u.$eval(e.tooltipTemplateTranscludeScope),l=0,o,s,h,c=function(){s&&(s.remove(),s=null);o&&(o.$destroy(),o=null);h&&(n.leave(h).then(function(){s=null}),s=h,h=null)};u.$watch(t.parseAsResourceUrl(e.tooltipTemplateTransclude),function(t){var e=++l;t?(r(t,!0).then(function(r){if(e===l){var u=a.$new(),s=r,v=i(s)(u,function(t){c();n.enter(t,f)});o=u;h=v;o.$emit("$includeContentLoaded",t)}},function(){e===l&&(c(),u.$emit("$includeContentError",t))}),u.$emit("$includeContentRequested",t)):c()});u.$on("$destroy",c)}}}]).directive("tooltipClasses",function(){return{restrict:"A",link:function(n,t,i){n.placement&&t.addClass(n.placement);n.popupClass&&t.addClass(n.popupClass);n.animation()&&t.addClass(i.tooltipAnimationClass)}}}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(n){return n("tooltip","tooltip","mouseenter")}]).directive("tooltipTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html"}}).directive("tooltipTemplate",["$tooltip",function(n){return n("tooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html"}}).directive("tooltipHtml",["$tooltip",function(n){return n("tooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).value("tooltipHtmlUnsafeSuppressDeprecated",!1).directive("tooltipHtmlUnsafe",["$tooltip","tooltipHtmlUnsafeSuppressDeprecated","$log",function(n,t,i){return t||i.warn("tooltip-html-unsafe is now deprecated. Use tooltip-html or tooltip-template instead."),n("tooltipHtmlUnsafe","tooltip","mouseenter")}]);angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(n){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(i){var r=i.match(t);if(!r)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+i+'".');return{itemName:r[3],source:n(r[4]),viewMapper:n(r[2]||r[1]),modelMapper:n(r[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$window","$rootScope","$position","typeaheadParser",function(n,t,i,r,u,f,e,o,s){var h=[9,13,27,38,40],c=200;return{require:"ngModel",link:function(l,a,v,y){function wt(){p.moveInProgress||(p.moveInProgress=!0,p.$digest());st&&r.cancel(st);st=r(function(){p.matches.length&&bt();p.moveInProgress=!1;p.$digest()},c)}function bt(){p.position=tt?o.offset(a):o.position(a);p.position.top+=a.prop("offsetHeight")}var k=l.$eval(v.typeaheadMinLength),rt,d,b,et,pt,ot,st,ht,kt,ct,lt,ut;k||k===0||(k=1);var at=l.$eval(v.typeaheadWaitMs)||0,vt=l.$eval(v.typeaheadEditable)!==!1,g=t(v.typeaheadLoading).assign||angular.noop,dt=t(v.typeaheadOnSelect),gt=angular.isDefined(v.typeaheadSelectOnBlur)?l.$eval(v.typeaheadSelectOnBlur):!1,nt=t(v.typeaheadNoResults).assign||angular.noop,yt=v.typeaheadInputFormatter?t(v.typeaheadInputFormatter):undefined,tt=v.typeaheadAppendToBody?l.$eval(v.typeaheadAppendToBody):!1,ni=l.$eval(v.typeaheadFocusFirst)!==!1,ti=v.typeaheadSelectOnExact?l.$eval(v.typeaheadSelectOnExact):!1,ii=t(v.ngModel).assign,w=s.parse(v.typeahead),ft,it,p=l.$new();l.$on("$destroy",function(){p.$destroy()});rt="typeahead-"+p.$id+"-"+Math.floor(Math.random()*1e4);a.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":rt});d=angular.element("<div typeahead-popup><\/div>");d.attr({id:rt,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"});angular.isDefined(v.typeaheadTemplateUrl)&&d.attr("template-url",v.typeaheadTemplateUrl);b=function(){p.matches=[];p.activeIdx=-1;a.attr("aria-expanded",!1)};et=function(n){return rt+"-option-"+n};p.$watch("activeIdx",function(n){n<0?a.removeAttr("aria-activedescendant"):a.attr("aria-activedescendant",et(n))});pt=function(n,t){return p.matches.length>t&&n?n.toUpperCase()===p.matches[t].label.toUpperCase():!1};ot=function(n){var t={$viewValue:n};g(l,!0);nt(l,!1);i.when(w.source(l,t)).then(function(i){var u=n===y.$viewValue,r;if(u&&ft)if(i&&i.length>0){for(p.activeIdx=ni?0:-1,nt(l,!1),p.matches.length=0,r=0;r<i.length;r++)t[w.itemName]=i[r],p.matches.push({id:et(r),label:w.viewMapper(p,t),model:i[r]});p.query=n;bt();a.attr("aria-expanded",!0);ti&&p.matches.length===1&&pt(n,0)&&p.select(0)}else b(),nt(l,!0);u&&g(l,!1)},function(){b();g(l,!1);nt(l,!0)})};tt&&(angular.element(f).bind("resize",wt),u.find("body").bind("scroll",wt));p.moveInProgress=!1;b();p.query=undefined;kt=function(n){ht=r(function(){ot(n)},at)};ct=function(){ht&&r.cancel(ht)};y.$parsers.unshift(function(n){return ft=!0,k===0||n&&n.length>=k?at>0?(ct(),kt(n)):ot(n):(g(l,!1),ct(),b()),vt?n:n?(y.$setValidity("editable",!1),undefined):(y.$setValidity("editable",!0),null)});y.$formatters.push(function(n){var i,r,t={};return vt||y.$setValidity("editable",!0),yt?(t.$model=n,yt(l,t)):(t[w.itemName]=n,i=w.viewMapper(l,t),t[w.itemName]=undefined,r=w.viewMapper(l,t),i!==r?i:n)});p.select=function(n,t){var i={},u,f;it=!0;i[w.itemName]=f=p.matches[n].model;u=w.modelMapper(l,i);ii(l,u);y.$setValidity("editable",!0);y.$setValidity("parse",!0);dt(l,{$item:f,$model:u,$label:w.viewMapper(l,i)});t||(b(),p.$eval(v.typeaheadFocusOnSelect)!==!1&&r(function(){a[0].focus()},0,!1))};a.bind("keydown",function(n){if(p.matches.length!==0&&h.indexOf(n.which)!==-1){if(p.activeIdx===-1&&(n.which===9||n.which===13)){b();p.$digest();return}n.preventDefault();n.which===40?(p.activeIdx=(p.activeIdx+1)%p.matches.length,p.$digest()):n.which===38?(p.activeIdx=(p.activeIdx>0?p.activeIdx:p.matches.length)-1,p.$digest()):n.which!==13&&n.which!==9||n.shiftKey?(n.which===13||n.which===9)&&n.shiftKey?p.$apply(function(){p.select(p.activeIdx,!0)}):n.which===27&&(n.stopPropagation(),b(),p.$digest()):p.$apply(function(){p.select(p.activeIdx)})}});a.bind("blur",function(){gt&&p.matches.length&&p.activeIdx!==-1&&!it&&(it=!0,p.$apply(function(){p.select(p.activeIdx)}));ft=!1;it=!1});lt=function(n){a[0]!==n.target&&n.which!==3&&p.matches.length!==0&&(b(),e.$$phase||p.$digest())};u.bind("click",lt);l.$on("$destroy",function(){u.unbind("click",lt);tt&&ut.remove();d.remove()});ut=n(d)(p);tt?u.find("body").append(ut):a.after(ut)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:"/template/typeahead/typeahead-popup.html",link:function(n,t,i){n.templateUrl=i.templateUrl;n.isOpen=function(){return n.matches.length>0};n.isActive=function(t){return n.active==t};n.selectActive=function(t){n.active=t};n.selectMatch=function(t){n.select({activeIdx:t})}}}}).directive("typeaheadMatch",["$templateRequest","$compile","$parse",function(n,t,i){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(r,u,f){var e=i(f.templateUrl)(r.$parent)||"template/typeahead/typeahead-match.html";n(e).then(function(n){t(n.trim())(r,function(n){u.replaceWith(n)})})}}}]).filter("typeaheadHighlight",function(){function n(n){return n.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,i){return i?(""+t).replace(new RegExp(n(i),"gi"),"<strong>$&<\/strong>"):t}});angular.module("checklist-model",[]).directive("checklistModel",["$parse","$compile",function(n,t){function i(n,t,i){if(angular.isArray(n))for(var r=n.length;r--;)if(i(n[r],t))return!0;return!1}function r(n,t,r){return n=angular.isArray(n)?n:[],i(n,t,r)||n.push(t),n}function u(n,t,i){if(angular.isArray(n))for(var r=n.length;r--;)if(i(n[r],t)){n.splice(r,1);break}return n}function f(f,e,o){function p(n){f[o.ngModel]=i(n,l,s)}var h=o.checklistModel,a;o.$set("checklistModel",null);t(e)(f);o.$set("checklistModel",h);var v=n(h),c=v.assign,y=n(o.checklistChange),l=o.checklistValue?n(o.checklistValue)(f.$parent):o.value,s=angular.equals;o.hasOwnProperty("checklistComparator")&&(o.checklistComparator[0]=="."?(a=o.checklistComparator.substring(1),s=function(n,t){return n[a]===t[a]}):s=n(o.checklistComparator)(f.$parent));f.$watch(o.ngModel,function(n,t){if(n!==t){var i=v(f.$parent);angular.isFunction(c)&&(n===!0?c(f.$parent,r(i,l,s)):c(f.$parent,u(i,l,s)));y&&y(f)}});angular.isFunction(f.$parent.$watchCollection)?f.$parent.$watchCollection(h,p):f.$parent.$watch(h,p,!0)}return{restrict:"A",priority:1e3,terminal:!0,scope:!0,compile:function(n,t){if((n[0].tagName!=="INPUT"||t.type!=="checkbox")&&n[0].tagName!=="MD-CHECKBOX"&&!t.btnCheckbox)throw'checklist-model should be applied to `input[type="checkbox"]` or `md-checkbox`.';if(!t.checklistValue&&!t.value)throw"You should provide `value` or `checklist-value`.";return t.ngModel||t.$set("ngModel","checked"),f}}}]);angular.module("rt.debounce",[]).factory("debounce",["$timeout",function(n){return function(t,i,r){function e(){h=i.apply(f||this,s||[]);f=s=null;c=!0}function l(){u&&(n.cancel(u),u=null)}function o(){f=this;s=arguments;r?c&&(c=!1,u=n(e,t)):(l(),u=n(e,t))}function a(){var n=!!f;return n&&(l(),e()),n}var s,f,h,u,c=!0;return o.flush=function(){return a()||u||e(),h},o.flushPending=function(){return a(),h},o.cancel=l,o}}]);angular.module("txx.diacritics",[]).service("removeDiacritics",function(){for(var r,t,i=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"OE",letters:"Œ"},{base:"oe",letters:"œ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],u={},n=0;n<i.length;n++)for(r=i[n].letters.split(""),t=0;t<r.length;t++)u[r[t]]=i[n].base;return{replace:function(n){return n.replace(/[^\u0000-\u007E]/g,function(n){return u[n]||n})},seo:function(n,t){return typeof t=="undefined"&&(t="-"),n=this.replace(n),n=angular.lowercase(n),n.replace(/[^A-Z0-9]+/ig,t)}}}),function(){"use strict";angular.module("cfp.hotkeys",[]).provider("hotkeys",["$injector",function(n){this.includeCheatSheet=!0;this.useNgRoute=n.has("ngViewDirective");this.templateTitle="Keyboard Shortcuts:";this.templateHeader=null;this.templateFooter=null;this.template='<div class="cfp-hotkeys-container fade" ng-class="{in: helpVisible}" style="display: none;"><div class="cfp-hotkeys"><h4 class="cfp-hotkeys-title" ng-if="!header">{{ title }}<\/h4><div ng-bind-html="header" ng-if="header"><\/div><table><tbody><tr ng-repeat="hotkey in hotkeys | filter:{ description: \'!$$undefined$$\' }"><td class="cfp-hotkeys-keys"><span ng-repeat="key in hotkey.format() track by $index" class="cfp-hotkeys-key">{{ key }}<\/span><\/td><td class="cfp-hotkeys-text">{{ hotkey.description }}<\/td><\/tr><\/tbody><\/table><div ng-bind-html="footer" ng-if="footer"><\/div><div class="cfp-hotkeys-close" ng-click="toggleCheatSheet()">×<\/div><\/div><\/div>';this.cheatSheetHotkey="?";this.cheatSheetDescription="Show / hide this help menu";this.$get=["$rootElement","$rootScope","$compile","$window","$document",function(n,t,i,r,u){function b(n){var i={command:"⌘",shift:"⇧",left:"←",right:"→",up:"↑",down:"↓","return":"↩",backspace:"⌫"},t;for(n=n.split("+"),t=0;t<n.length;t++)n[t]==="mod"&&(n[t]=r.navigator&&r.navigator.platform.indexOf("Mac")>=0?"command":"ctrl"),n[t]=i[n[t]]||n[t];return n.join(" + ")}function v(n,t,i,r,u,f){this.combo=n instanceof Array?n:[n];this.description=t;this.callback=i;this.action=r;this.allowIn=u;this.persistent=f;this._formated=null}function w(){for(var t=f.hotkeys.length,n;t--;)n=f.hotkeys[t],n&&!n.persistent&&s(n)}function l(){f.helpVisible=!f.helpVisible;f.helpVisible?(h=a("esc"),s("esc"),o("esc",h.description,l,null,["INPUT","SELECT","TEXTAREA"])):(s("esc"),h!==!1&&o(h))}function o(n,t,i,r,u,e){var a,h=["INPUT","SELECT","TEXTAREA"],y=Object.prototype.toString.call(n),c,o,l;if(y==="[object Object]"&&(t=n.description,i=n.callback,r=n.action,e=n.persistent,u=n.allowIn,n=n.combo),s(n),t instanceof Function?(r=i,i=t,t="$$undefined$$"):angular.isUndefined(t)&&(t="$$undefined$$"),e===undefined&&(e=!0),typeof i=="function"){for(a=i,u instanceof Array||(u=[]),o=0;o<u.length;o++)u[o]=u[o].toUpperCase(),c=h.indexOf(u[o]),c!==-1&&h.splice(c,1);i=function(n){var i=!0,r,u,t;if(n)if(r=n.target||n.srcElement,u=r.nodeName.toUpperCase(),(" "+r.className+" ").indexOf(" mousetrap ")>-1)i=!0;else for(t=0;t<h.length;t++)if(h[t]===u){i=!1;break}i&&p(a.apply(this,arguments))}}return typeof r=="string"?Mousetrap.bind(n,p(i),r):Mousetrap.bind(n,p(i)),l=new v(n,t,i,r,u,e),f.hotkeys.push(l),l}function s(n){var i=n instanceof v?n.combo:n,r,u,t;if(Mousetrap.unbind(i),angular.isArray(i)){for(r=!0,u=i.length;u--;)r=s(i[u])&&r;return r}return(t=f.hotkeys.indexOf(a(i)),t>-1)?(f.hotkeys[t].combo.length>1?f.hotkeys[t].combo.splice(f.hotkeys[t].combo.indexOf(i),1):(angular.forEach(e,function(n){var i=n.indexOf(f.hotkeys[t]);i!==-1&&n.splice(i,1)}),f.hotkeys.splice(t,1)),!0):!1}function a(n){var i,t;if(!n)return f.hotkeys;for(t=0;t<f.hotkeys.length;t++)if(i=f.hotkeys[t],i.combo.indexOf(n)>-1)return i;return!1}function d(n){return n.$id in e||(e[n.$id]=[],n.$on("$destroy",function(){for(var t=e[n.$id].length;t--;)s(e[n.$id].pop())})),{add:function(t){var i;return i=arguments.length>1?o.apply(this,arguments):o(t),e[n.$id].push(i),this}}}function p(n){return function(i,r){if(n instanceof Array){var u=n[0],f=n[1];n=function(){f.scope.$eval(u)}}t.$apply(function(){n(i,a(r))})}}var f,e,h;if(Mousetrap.prototype.stopCallback=function(n,t){return(" "+t.className+" ").indexOf(" mousetrap ")>-1?!1:t.contentEditable&&t.contentEditable=="true"},v.prototype.format=function(){var i,n,t;if(this._formated===null){for(i=this.combo[0],n=i.split(/[\s]/),t=0;t<n.length;t++)n[t]=b(n[t]);this._formated=n}return this._formated},f=t.$new(),f.hotkeys=[],f.helpVisible=!1,f.title=this.templateTitle,f.header=this.templateHeader,f.footer=this.templateFooter,f.toggleCheatSheet=l,e=[],this.useNgRoute&&t.$on("$routeChangeSuccess",function(n,t){w();t&&t.hotkeys&&angular.forEach(t.hotkeys,function(n){var i=n[2];(typeof i=="string"||i instanceof String)&&(n[2]=[i,t]);n[5]=!1;o.apply(this,n)})}),this.includeCheatSheet){var y=u[0],c=n[0],k=angular.element(this.template);o(this.cheatSheetHotkey,this.cheatSheetDescription,l);(c===y||c===y.documentElement)&&(c=y.body);angular.element(c).append(i(k)(f))}return h=!1,{add:o,del:s,get:a,bindTo:d,template:this.template,toggleCheatSheet:l,includeCheatSheet:this.includeCheatSheet,cheatSheetHotkey:this.cheatSheetHotkey,cheatSheetDescription:this.cheatSheetDescription,useNgRoute:this.useNgRoute,purgeHotkeys:w,templateTitle:this.templateTitle}}]}]).directive("hotkey",["hotkeys",function(n){return{restrict:"A",link:function(t,i,r){var u,f;angular.forEach(t.$eval(r.hotkey),function(t,i){f=typeof r.hotkeyAllowIn=="string"?r.hotkeyAllowIn.split(/[\s,]+/):[];u=i;n.add({combo:i,description:r.hotkeyDescription,callback:t,action:r.hotkeyAction,allowIn:f})});i.bind("$destroy",function(){n.del(u)})}}}]).run(["hotkeys",function(){}])}(),function(n,t){function e(n,t,i){if(n.addEventListener){n.addEventListener(t,i,!1);return}n.attachEvent("on"+t,i)}function l(n){if(n.type=="keypress"){var t=String.fromCharCode(n.which);return n.shiftKey||(t=t.toLowerCase()),t}return u[n.which]?u[n.which]:s[n.which]?s[n.which]:String.fromCharCode(n.which).toLowerCase()}function y(n,t){return n.sort().join(",")===t.sort().join(",")}function p(n){var t=[];return n.shiftKey&&t.push("shift"),n.altKey&&t.push("alt"),n.ctrlKey&&t.push("ctrl"),n.metaKey&&t.push("meta"),t}function w(n){if(n.preventDefault){n.preventDefault();return}n.returnValue=!1}function b(n){if(n.stopPropagation){n.stopPropagation();return}n.cancelBubble=!0}function o(n){return n=="shift"||n=="ctrl"||n=="alt"||n=="meta"}function k(){if(!f){f={};for(var n in u)n>95&&n<112||u.hasOwnProperty(n)&&(f[u[n]]=n)}return f}function d(n,t,i){return i||(i=k()[n]?"keydown":"keypress"),i=="keypress"&&t.length&&(i="keydown"),i}function g(n){return n==="+"?["+"]:(n=n.replace(/\+{2}/g,"+plus"),n.split("+"))}function a(n,t){for(var i,u=[],f=g(n),r=0;r<f.length;++r)i=f[r],c[i]&&(i=c[i]),t&&t!="keypress"&&h[i]&&(i=h[i],u.push("shift")),o(i)&&u.push(i);return t=d(i,u,t),{key:i,modifiers:u,action:t}}function v(n,i){return n===t?!1:n===i?!0:v(n.parentNode,i)}function i(n){function h(n){n=n||{};var t=!1;for(var i in u){if(n[i]){t=!0;continue}u[i]=0}t||(s=!1)}function g(n,t,i,f,e,s){var c,h,a=[],l=i.type,v,p;if(!r._callbacks[n])return[];for(l=="keyup"&&o(n)&&(t=[n]),c=0;c<r._callbacks[n].length;++c)(h=r._callbacks[n][c],f||!h.seq||u[h.seq]==h.level)&&l==h.action&&((l!="keypress"||i.metaKey||i.ctrlKey)&&!y(t,h.modifiers)||(v=!f&&h.combo==e,p=f&&h.seq==f&&h.level==s,(v||p)&&r._callbacks[n].splice(c,1),a.push(h)));return a}function c(n,t,i,u){r.stopCallback(t,t.target||t.srcElement,i,u)||n(t,i)===!1&&(w(t),b(t))}function v(n){typeof n.which!="number"&&(n.which=n.keyCode);var t=l(n);if(t){if(n.type=="keyup"&&f===t){f=!1;return}r.handleKey(t,p(n),n)}}function tt(){clearTimeout(k);k=setTimeout(h,1e3)}function it(n,t,i,r){function y(t){return function(){s=t;++u[n];tt()}}function p(t){c(i,t,n);r!=="keyup"&&(f=l(t));setTimeout(h,10)}var e,o,v;for(u[n]=0,e=0;e<t.length;++e)o=e+1===t.length,v=o?p:y(r||a(t[e+1]).action),nt(t[e],v,r,n,e)}function nt(n,t,i,u,f){r._directMap[n+":"+i]=t;n=n.replace(/\s+/g," ");var o=n.split(" "),e;if(o.length>1){it(n,o,t,i);return}e=a(n,i);r._callbacks[e.key]=r._callbacks[e.key]||[];g(e.key,e.modifiers,{type:e.action},u,n,f);r._callbacks[e.key][u?"unshift":"push"]({callback:t,modifiers:e.modifiers,action:e.action,seq:u,level:f,combo:n})}var r=this;if(n=n||t,!(r instanceof i))return new i(n);r.target=n;r._callbacks={};r._directMap={};var u={},k,f=!1,d=!1,s=!1;r._handleKey=function(n,t,i){for(var u=g(n,t,i),l={},f=0,e=!1,a,r=0;r<u.length;++r)u[r].seq&&(f=Math.max(f,u[r].level));for(r=0;r<u.length;++r){if(u[r].seq){if(u[r].level!=f)continue;e=!0;l[u[r].seq]=1;c(u[r].callback,i,u[r].combo,u[r].seq);continue}e||c(u[r].callback,i,u[r].combo)}a=i.type=="keypress"&&d;i.type!=s||o(n)||a||h(l);d=e&&i.type=="keydown"};r._bindMultiple=function(n,t,i){for(var r=0;r<n.length;++r)nt(n[r],t,i)};e(n,"keypress",v);e(n,"keydown",v);e(n,"keyup",v)}for(var u={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},s={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},h={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},c={option:"alt",command:"meta","return":"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},f,r=1;r<20;++r)u[111+r]="f"+r;for(r=0;r<=9;++r)u[r+96]=r;i.prototype.bind=function(n,t,i){var r=this;return n=n instanceof Array?n:[n],r._bindMultiple.call(r,n,t,i),r};i.prototype.unbind=function(n,t){var i=this;return i.bind.call(i,n,function(){},t)};i.prototype.trigger=function(n,t){var i=this;return i._directMap[n+":"+t]&&i._directMap[n+":"+t]({},n),i};i.prototype.reset=function(){var n=this;return n._callbacks={},n._directMap={},n};i.prototype.stopCallback=function(n,t){var i=this;return(" "+t.className+" ").indexOf(" mousetrap ")>-1?!1:v(t,i.target)?!1:t.tagName=="INPUT"||t.tagName=="SELECT"||t.tagName=="TEXTAREA"||t.isContentEditable};i.prototype.handleKey=function(){var n=this;return n._handleKey.apply(n,arguments)};i.init=function(){var n=i(t);for(var r in n)r.charAt(0)!=="_"&&(i[r]=function(t){return function(){return n[t].apply(n,arguments)}}(r))};i.init();n.Mousetrap=i;typeof module!="undefined"&&module.exports&&(module.exports=i);typeof define=="function"&&define.amd&&define(function(){return i})}(window,document),function(n){var t=function(t,i,r,u){function at(n){var t=!1;try{t=!isNaN(n.selectionStart)&&!isNaN(n.selectionEnd)}catch(i){}return t}function l(n){n.nodeName=="TD"&&(n.click||(n.click=function(){var n=this.ownerDocument.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,this.ownerDocument.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);this.dispatchEvent(n)}),n.VKI_clickless=0,e(n,"dblclick",function(){return!1},!1));e(n,"mouseover",function(){if(this.nodeName=="TD"&&f.VKI_clickless){var n=this;clearTimeout(this.VKI_clickless);this.VKI_clickless=setTimeout(function(){n.click()},f.VKI_clickless)}f.VKI_isIE&&(this.className+=" hover")},!1);e(n,"mouseout",function(){this.nodeName=="TD"&&clearTimeout(this.VKI_clickless);f.VKI_isIE&&(this.className=this.className.replace(/ ?(hover|pressed) ?/g,""))},!1);e(n,"mousedown",function(){this.nodeName=="TD"&&clearTimeout(this.VKI_clickless);f.VKI_isIE&&(this.className+=" pressed")},!1);e(n,"mouseup",function(){this.nodeName=="TD"&&clearTimeout(this.VKI_clickless);f.VKI_isIE&&(this.className=this.className.replace(/ ?pressed ?/g,""))},!1)}function wt(){var t=!1,n=" ";if(this.firstChild.nodeName.toLowerCase()!="small"){if((n=this.firstChild.nodeValue)==" ")return!1}else n=this.firstChild.getAttribute("char");return f.VKI_deadkeysOn.checked&&f.VKI_dead&&(f.VKI_dead!=n?n!=" "?f.VKI_deadkey[f.VKI_dead][n]&&(f.VKI_insert(f.VKI_deadkey[f.VKI_dead][n]),t=!0):(f.VKI_insert(f.VKI_dead),t=!0):t=!0),f.VKI_dead=!1,t||(f.VKI_deadkeysOn.checked&&f.VKI_deadkey[n]?(f.VKI_dead=n,this.className+=" dead",f.VKI_shift&&f.VKI_modify("Shift"),f.VKI_altgr&&f.VKI_modify("AltGr")):f.VKI_insert(n)),f.VKI_modify(""),!1}function e(n,t,i,r){n.addEventListener?n.addEventListener(t,function(t){i.call(n,t)},r):n.attachEvent&&n.attachEvent("on"+t,function(){i.call(n)})}function lt(n){for(var i=curtop=0,t=n;(t=t.parentNode)&&t!=document.body;)i-=t.scrollLeft||0,curtop-=t.scrollTop||0;do i+=n.offsetLeft,curtop+=n.offsetTop;while(n=n.offsetParent);return[i,curtop]}function bt(){return f.innerHeight?[f.innerWidth,f.innerHeight]:document.documentElement&&document.documentElement.clientHeight?[document.documentElement.clientWidth,document.documentElement.clientHeight]:document.body?[document.body.clientWidth,document.body.clientHeight]:[0,0]}function kt(){var n=document.getElementsByTagName("html")[0];return n.scrollTop&&document.documentElement.scrollTop?[n.scrollLeft,n.scrollTop]:n.scrollTop||document.documentElement.scrollTop?[n.scrollLeft+document.documentElement.scrollLeft,n.scrollTop+document.documentElement.scrollTop]:document.body.scrollTop?[document.body.scrollLeft,document.body.scrollTop]:[0,0]}function dt(n,t){var i;return n.currentStyle?i=n.currentStyle[t]:window.getComputedStyle&&(i=window.getComputedStyle(n,null)[t]),i}var f=this,o=t||{},s,ut,p,w,b,h,k,nt,st,v,tt,y,it,ht,c,ct,rt,d;if(f.keyInputCallback=u||function(){},this.VKI_version="1.49",this.VKI_showVersion=o.showVersion!==undefined?o.showVersion:!1,this.VKI_target=!1,this.VKI_shift=this.VKI_shiftlock=!1,this.VKI_altgr=this.VKI_altgrlock=!1,this.VKI_dead=!1,this.VKI_deadBox=!0,this.VKI_deadkeysOn=o.deadkeysOn!==undefined?o.deadkeysOn:!0,this.VKI_numberPad=o.numberPad!==undefined?o.numberPad:!1,this.VKI_numberPadOn=!1,this.VKI_kts=this.VKI_kt=o.kt||"US International",this.VKI_langAdapt=!o.kt,this.VKI_size=o.size>=1&&o.size<=5?o.size:3,this.VKI_sizeAdj=o.sizeAdj===!1?!1:!0,this.VKI_clearPasswords=!1,this.VKI_display=o.display!==undefined?o.display:"right",this.VKI_clickless=0,this.VKI_activeTab=0,this.VKI_keyCenter=o.keyCenter||3,this.VKI_forcePosition=o.forcePosition||!1,this.VKI_relative=o.relative===!1?!1:!0,this.VKI_customClass=o.customClass||!1,this.VKI_isIE=!1,this.VKI_isIE6=!1,this.VKI_isIElt8=!1,this.VKI_isWebKit=RegExp("KHTML").test(navigator.userAgent),this.VKI_isOpera=RegExp("Opera").test(navigator.userAgent),this.VKI_isMoz=!this.VKI_isWebKit&&navigator.product=="Gecko",this.VKI_enterSubmit=o.enterSubmit||!1,this.VKI_showKbSelect=o.showKbSelect||!1,this.VKI_i18n=o.i18n,this.VKI_layout=i,this.VKI_deadkey=r,this.VKI_symbol={" ":"NB\nSP","​":"ZW\nSP","‌":"ZW\nNJ","‍":"ZW\nJ"},this.VKI_numpad=[[["$"],["£"],["€"],["¥"]],[["7"],["8"],["9"],["/"]],[["4"],["5"],["6"],["*"]],[["1"],["2"],["3"],["-"]],[["0"],["."],["="],["+"]]],f.attachVki=function(t){var i,r;if(t.getAttribute("VKI_attached"))return!1;f.VKI_display&&(i=document.createElement("span"),i.style.cssText="color:red;",i.className="input-group-addon has-pointer",i.elem=t,i.onclick=function(n){n=n||event;n.stopPropagation?n.stopPropagation():n.cancelBubble=!0;f.VKI_show(this.elem)},r=document.createElement("i"),r.className="fa fa-keyboard-o",i.appendChild(r),t.parentNode.insertBefore(i,f.VKI_display=="right"?t.nextSibling:t));t.setAttribute("VKI_attached","true");f.VKI_isIE&&(t.onclick=t.onselect=t.onkeyup=function(n){(n||event).type=="keyup"&&this.readOnly||(this.range=document.selection.createRange())});e(t,"click",function(n){return f.VKI_target==this&&(n=n||event,n.stopPropagation?n.stopPropagation():n.cancelBubble=!0),!1},!1);f.VKI_isMoz&&t.addEventListener("blur",function(){this.setAttribute("_scrollTop",this.scrollTop)},!1);e(document.documentElement,"click",function(){f.VKI_close(!1)},!1);n.element(t).bind("VKI_close",function(){f.VKI_close(!1)})},this.VKI_keyboard=document.createElement("table"),this.VKI_keyboard.className="keyboardInputMaster",this.VKI_relative&&(f.VKI_keyboard.className+=" relativeKeyboard"),this.VKI_customClass&&(f.VKI_keyboard.className+=" "+this.VKI_customClass),this.VKI_keyboard.dir="ltr",this.VKI_keyboard.cellSpacing="0",this.VKI_keyboard.reflow=function(){this.style.width="50px";var n=this.offsetWidth;this.style.width=""},e(this.VKI_keyboard,"click",function(n){return n=n||event,n.stopPropagation?n.stopPropagation():n.cancelBubble=!0,!1},!1),!this.VKI_layout[this.VKI_kt])return alert('No keyboard named "'+this.VKI_kt+'"');this.VKI_langCode={};var vt=document.createElement("thead"),g=document.createElement("tr"),a=document.createElement("th");if(a.colSpan="2",f.VKI_showKbSelect){s=document.createElement("div");s.title=this.VKI_i18n["02"];e(s,"click",function(){var i=this.getElementsByTagName("ol")[0],t,n,r;if(i.style.display)i.style.display="";else{for(i.style.display="block",t=i.getElementsByTagName("li"),n=0,r=0;n<t.length;n++)VKI_kt==t[n].firstChild.nodeValue?(t[n].className="selected",r=t[n].offsetTop-t[n].offsetHeight*2):t[n].className="";setTimeout(function(){i.scrollTop=r},0)}},!1);s.appendChild(document.createTextNode(this.VKI_kt));s.appendChild(document.createTextNode(this.VKI_isIElt8?" ↓":" ▾"));s.langCount=0;ut=document.createElement("ol");for(ktype in this.VKI_layout)if(typeof this.VKI_layout[ktype]=="object"){for(this.VKI_layout[ktype].lang||(this.VKI_layout[ktype].lang=[]),c=0;c<this.VKI_layout[ktype].lang.length;c++)this.VKI_langCode[this.VKI_layout[ktype].lang[c].toLowerCase().replace(/-/g,"_")]=ktype;p=document.createElement("li");p.title=this.VKI_layout[ktype].name;e(p,"click",function(n){n=n||event;n.stopPropagation?n.stopPropagation():n.cancelBubble=!0;this.parentNode.style.display="";f.VKI_kts=f.VKI_kt=s.firstChild.nodeValue=this.firstChild.nodeValue;f.VKI_buildKeys();f.VKI_position(!0)},!1);l(p);p.appendChild(document.createTextNode(ktype));ut.appendChild(p);s.langCount++}s.appendChild(ut);s.langCount>1&&a.appendChild(s);this.VKI_langCode.index=[];for(prop in this.VKI_langCode)prop!="index"&&typeof this.VKI_langCode[prop]=="string"&&this.VKI_langCode.index.push(prop);this.VKI_langCode.index.sort();this.VKI_langCode.index.reverse()}this.VKI_numberPad&&(h=document.createElement("span"),h.appendChild(document.createTextNode("#")),h.title=this.VKI_i18n["00"],e(h,"click",function(){y.style.display=y.style.display?"":"none";f.VKI_position(!0);f.VKI_target.focus()},!1),l(h),a.appendChild(h));this.VKI_kbsize=function(){f.VKI_size=Math.min(5,Math.max(1,f.VKI_size));f.VKI_keyboard.className=f.VKI_keyboard.className.replace(/ ?keyboardInputSize\d ?/,"");f.VKI_size!=2&&(f.VKI_keyboard.className+=" keyboardInputSize"+f.VKI_size);f.VKI_position(!0);f.VKI_isOpera&&f.VKI_keyboard.reflow()};this.VKI_sizeAdj&&(w=document.createElement("small"),w.title=this.VKI_i18n["10"],e(w,"click",function(){--f.VKI_size;f.VKI_kbsize();f.VKI_target.focus()},!1),l(w),w.appendChild(document.createTextNode(this.VKI_isIElt8?"↓":"⇓")),a.appendChild(w),b=document.createElement("big"),b.title=this.VKI_i18n["11"],e(b,"click",function(){++f.VKI_size;f.VKI_kbsize();f.VKI_target.focus()},!1),l(b),b.appendChild(document.createTextNode(this.VKI_isIElt8?"↑":"⇑")),a.appendChild(b));h=document.createElement("span");h.appendChild(document.createTextNode(this.VKI_i18n["07"]));h.title=this.VKI_i18n["08"];e(h,"click",function(){return f.VKI_target.value="",f.VKI_target.focus(),f.keyInputCallback(),!1},!1);l(h);a.appendChild(h);k=document.createElement("strong");k.appendChild(document.createTextNode("X"));k.title=this.VKI_i18n["06"];e(k,"click",function(){f.VKI_close(!0)},!1);l(k);a.appendChild(k);g.appendChild(a);vt.appendChild(g);this.VKI_keyboard.appendChild(vt);var yt=document.createElement("tbody"),g=document.createElement("tr"),ft=document.createElement("td");ft.className="keyboardsArea";var pt=document.createElement("table"),et=document.createElement("tr"),ot=document.createElement("td");for(ot.className="keyboardInputTextPad",nt=document.createElement("div"),this.VKI_deadBox?(st=document.createElement("label"),v=document.createElement("input"),v.type="checkbox",v.title=this.VKI_i18n["03"]+": "+(this.VKI_deadkeysOn?this.VKI_i18n["04"]:this.VKI_i18n["05"]),v.defaultChecked=this.VKI_deadkeysOn,e(v,"click",function(){return this.title=f.VKI_i18n["03"]+": "+(this.checked?f.VKI_i18n["04"]:f.VKI_i18n["05"]),f.VKI_modify(""),!0},!1),st.appendChild(v),v.checked=this.VKI_deadkeysOn,nt.appendChild(st),this.VKI_deadkeysOn=v):this.VKI_deadkeysOn.checked=this.VKI_deadkeysOn,this.VKI_showVersion&&(tt=document.createElement("var"),tt.title=this.VKI_i18n["09"]+" "+this.VKI_version,tt.appendChild(document.createTextNode("v"+this.VKI_version)),nt.appendChild(tt)),ot.appendChild(nt),y=document.createElement("td"),y.className="keyboardInputNumpad",this.VKI_numberPadOn||(y.style.display="none"),it=document.createElement("table"),it.cellSpacing="0",ht=document.createElement("tbody"),c=0;c<this.VKI_numpad.length;c++){for(ct=document.createElement("tr"),rt=0;rt<this.VKI_numpad[c].length;rt++)d=document.createElement("td"),e(d,"click",wt,!1),l(d),d.appendChild(document.createTextNode(this.VKI_numpad[c][rt])),ct.appendChild(d);ht.appendChild(ct)}return it.appendChild(ht),y.appendChild(it),et.appendChild(ot),et.appendChild(y),pt.appendChild(et),ft.appendChild(pt),g.appendChild(ft),yt.appendChild(g),this.VKI_keyboard.appendChild(yt),this.VKI_isIE6&&(this.VKI_iframe=document.createElement("iframe"),this.VKI_iframe.style.position="absolute",this.VKI_iframe.style.border="0px none",this.VKI_iframe.style.filter="mask()",this.VKI_iframe.style.zIndex="999999"),this.VKI_buildKeys=function(){var c,a,r,v,u,o,y,p,w,n,t,b,s,h,i;for(this.VKI_shift=this.VKI_shiftlock=this.VKI_altgr=this.VKI_altgrlock=this.VKI_dead=!1,c=this.VKI_keyboard.tBodies[0].getElementsByTagName("div")[0],a=c.getElementsByTagName("table"),r=a.length-1;r>=0;r--)c.removeChild(a[r]);for(r=0,v=!1;u=this.VKI_layout[this.VKI_kt].keys[r++];){for(o=document.createElement("table"),o.cellSpacing="0",u.length<=this.VKI_keyCenter&&(o.className="keyboardInputCenter"),y=document.createElement("tbody"),p=document.createElement("tr"),w=0;n=u[w++];){if(t=document.createElement("td"),this.VKI_symbol[n[0]]){for(b=this.VKI_symbol[n[0]].split("\n"),s=document.createElement("small"),s.setAttribute("char",n[0]),i=0;i<b.length;i++)i&&s.appendChild(document.createElement("br")),s.appendChild(document.createTextNode(b[i]));t.appendChild(s)}else t.appendChild(document.createTextNode(n[0]||" "));if(h=[],this.VKI_deadkeysOn.checked)for(key in this.VKI_deadkey)if(key===n[0]){h.push("deadkey");break}u.length>this.VKI_keyCenter&&w==u.length&&h.push("last");(n[0]==" "||n[1]==" ")&&h.push("space");t.className=h.join(" ");switch(n[1]){case"Caps":case"Shift":case"Alt":case"AltGr":case"AltLk":e(t,"click",function(n){return function(){return f.VKI_modify(n),!1}}(n[1]),!1);break;case"Tab":e(t,"click",function(){var i,t;if(f.VKI_activeTab)if(f.VKI_target.form){i=f.VKI_target;t=i.form.elements;f.VKI_close(!1);for(var n=0,u=!1,r=-1;n<t.length;n++)if(r==-1&&t[n].getAttribute("VKI_attached")&&(r=n),u){if(f.VKI_activeTab==1&&t[n])break;if(t[n].getAttribute("VKI_attached"))break}else t[n]==i&&(u=!0);n==t.length&&(n=Math.max(r,0));t[n].getAttribute("VKI_attached")?f.VKI_show(t[n]):t[n].focus()}else f.VKI_target.focus();else f.VKI_insert("\t");return!1},!1);break;case"Bksp":e(t,"click",function(){if(f.VKI_target.focus(),f.VKI_target.setSelectionRange&&at(f.VKI_target)&&!f.VKI_target.readOnly){var n=[f.VKI_target.selectionStart,f.VKI_target.selectionEnd];n[0]<n[1]&&n[0]++;f.VKI_target.value=f.VKI_target.value.substr(0,n[0]-1)+f.VKI_target.value.substr(n[1]);f.VKI_target.setSelectionRange(n[0]-1,n[0]-1)}else if(f.VKI_target.createTextRange&&!f.VKI_target.readOnly){try{f.VKI_target.range.select()}catch(t){f.VKI_target.range=document.selection.createRange()}f.VKI_target.range.text.length||f.VKI_target.range.moveStart("character",-1);f.VKI_target.range.text=""}else f.VKI_target.value=f.VKI_target.value.substr(0,f.VKI_target.value.length-1);return f.VKI_shift&&f.VKI_modify("Shift"),f.VKI_altgr&&f.VKI_modify("AltGr"),f.VKI_target.focus(),f.keyInputCallback(),!0},!1);break;case"Enter":e(t,"click",function(){if(f.VKI_target.nodeName!="TEXTAREA"){if(typeof f.VKI_enterSubmit=="function")f.VKI_enterSubmit.apply({},[f.VKI_target.value]);else if(f.VKI_enterSubmit&&f.VKI_target.form){for(var n=0,t=!1;n<f.VKI_target.form.elements.length;n++)f.VKI_target.form.elements[n].type=="submit"&&(t=!0);t||f.VKI_target.form.submit()}f.VKI_close(!1)}else f.VKI_insert("\n");return!0},!1);break;default:e(t,"click",wt,!1)}for(l(t),p.appendChild(t),i=0;i<4;i++)this.VKI_deadkey[n[i]=n[i]||""]&&(v=!0)}y.appendChild(p);o.appendChild(y);c.appendChild(o)}this.VKI_deadBox&&(this.VKI_deadkeysOn.style.display=v?"inline":"none");this.VKI_isIE6&&(this.VKI_iframe.style.width=this.VKI_keyboard.offsetWidth+"px",this.VKI_iframe.style.height=this.VKI_keyboard.offsetHeight+"px")},this.VKI_buildKeys(),e(this.VKI_keyboard,"selectstart",function(){return!1},!1),this.VKI_keyboard.unselectable="on",this.VKI_isOpera&&e(this.VKI_keyboard,"mousedown",function(){return!1},!1),this.VKI_modify=function(n){var e,l,o,i,t,r,u,a,s,h,c;switch(n){case"Alt":case"AltGr":this.VKI_altgr=!this.VKI_altgr;break;case"AltLk":this.VKI_altgr=0;this.VKI_altgrlock=!this.VKI_altgrlock;break;case"Caps":this.VKI_shift=0;this.VKI_shiftlock=!this.VKI_shiftlock;break;case"Shift":this.VKI_shift=!this.VKI_shift}for(e=0,!this.VKI_shift!=!this.VKI_shiftlock&&(e+=1),!this.VKI_altgr!=!this.VKI_altgrlock&&(e+=2),l=this.VKI_keyboard.tBodies[0].getElementsByTagName("div")[0].getElementsByTagName("table"),o=0;o<l.length;o++)for(i=l[o].getElementsByTagName("td"),t=0;t<i.length;t++){r=[];u=this.VKI_layout[this.VKI_kt].keys[o][t];switch(u[1]){case"Alt":case"AltGr":this.VKI_altgr&&r.push("pressed");f.VKI_target.focus();break;case"AltLk":this.VKI_altgrlock&&r.push("pressed");f.VKI_target.focus();break;case"Shift":this.VKI_shift&&r.push("pressed");f.VKI_target.focus();break;case"Caps":this.VKI_shiftlock&&r.push("pressed");f.VKI_target.focus();break;case"Tab":case"Bksp":f.VKI_target.focus();case"Enter":break;default:if(n)if(i[t].removeChild(i[t].firstChild),this.VKI_symbol[u[e]]){for(a=this.VKI_symbol[u[e]].split("\n"),s=document.createElement("small"),s.setAttribute("char",u[e]),h=0;h<a.length;h++)h&&s.appendChild(document.createElement("br")),s.appendChild(document.createTextNode(a[h]));i[t].appendChild(s)}else i[t].appendChild(document.createTextNode(u[e]||" "));this.VKI_deadkeysOn.checked&&(c=i[t].firstChild.nodeValue||i[t].firstChild.className,this.VKI_dead&&(c==this.VKI_dead&&r.push("pressed"),this.VKI_deadkey[this.VKI_dead][c]&&r.push("target")),this.VKI_deadkey[c]&&r.push("deadkey"))}t==i.length-1&&i.length>this.VKI_keyCenter&&r.push("last");(u[0]==" "||u[1]==" ")&&r.push("space");i[t].className=r.join(" ")}},this.VKI_insert=function(n){if(this.VKI_target.focus(),n&&n.length>1&&n.trim&&(n=n.trim()),this.VKI_target.maxLength&&(this.VKI_target.maxlength=this.VKI_target.maxLength),typeof this.VKI_target.maxlength=="undefined"||this.VKI_target.maxlength<0||this.VKI_target.value.length<this.VKI_target.maxlength){if(this.VKI_target.setSelectionRange&&at(this.VKI_target)&&!this.VKI_target.readOnly&&!this.VKI_isIE){var t=[this.VKI_target.selectionStart,this.VKI_target.selectionEnd];this.VKI_target.value=this.VKI_target.value.substr(0,t[0])+n+this.VKI_target.value.substr(t[1]);n=="\n"&&this.VKI_isOpera&&t[0]++;this.VKI_target.setSelectionRange(t[0]+n.length,t[0]+n.length)}else if(this.VKI_target.createTextRange&&!this.VKI_target.readOnly){try{this.VKI_target.range.select()}catch(i){this.VKI_target.range=document.selection.createRange()}this.VKI_target.range.text=n;this.VKI_target.range.collapse(!0);this.VKI_target.range.select()}else this.VKI_target.value+=n;this.VKI_shift&&this.VKI_modify("Shift");this.VKI_altgr&&this.VKI_modify("AltGr");this.VKI_target.focus();this.keyInputCallback()}else this.VKI_target.createTextRange&&this.VKI_target.range&&this.VKI_target.range.select()},this.VKI_show=function(n){var t,i,n;if(this.VKI_target)this.VKI_close(!1);else{if(this.VKI_target=n,this.VKI_langAdapt&&this.VKI_target.lang){var i=!1,r=this.VKI_target.lang.toLowerCase().replace(/-/g,"_");for(t=0,i=!1;!i&&t<this.VKI_langCode.index.length;t++)r.indexOf(this.VKI_langCode.index[t])==0&&f.VKI_showKbSelect&&(i=s.firstChild.nodeValue=this.VKI_kt=this.VKI_langCode[this.VKI_langCode.index[t]]);i&&this.VKI_buildKeys()}this.VKI_isIE&&(this.VKI_target.range||(this.VKI_target.range=this.VKI_target.createTextRange(),this.VKI_target.range.moveStart("character",this.VKI_target.value.length)),this.VKI_target.range.select());try{this.VKI_keyboard.parentNode.removeChild(this.VKI_keyboard)}catch(u){}this.VKI_clearPasswords&&this.VKI_target.type=="password"&&(this.VKI_target.value="");n=this.VKI_target;this.VKI_target.keyboardPosition="absolute";do if(dt(n,"position")=="fixed"){this.VKI_target.keyboardPosition="fixed";break}while(n=n.offsetParent);this.VKI_isIE6&&document.body.appendChild(this.VKI_iframe);document.body.appendChild(this.VKI_keyboard);this.VKI_keyboard.style.position=this.VKI_target.keyboardPosition;this.VKI_isOpera&&this.VKI_keyboard.reflow();this.VKI_position(!0);(f.VKI_isMoz||f.VKI_isWebKit)&&this.VKI_position(!0);this.VKI_target.blur();this.VKI_target.focus();this.VKI_closeOthers()}},this.VKI_closeOthers=function(){function t(t){if(t.getAttribute("VKI_attached")==="true"&&!n.equals(f.VKI_target,t)){var i=n.element(t);i.triggerHandler("VKI_close")}}n.forEach(n.element(document).find("input"),t);n.forEach(n.element(document).find("textarea"),t)},this.VKI_position=function(n){var i,t;if(!f.VKI_relative){f.VKI_keyboard.style.position="fixed";f.VKI_keyboard.style.bottom="0px";f.VKI_keyboard.style.left="0px";f.VKI_keyboard.style.width="100%";return}if(f.VKI_target){var s=lt(f.VKI_keyboard),h=bt(),r=kt(),u=!1,o=f.VKI_target.offsetHeight+3;if(f.VKI_forcePosition==="top"&&(o=-f.VKI_keyboard.offsetHeight-3),n!==!0&&(s[1]+f.VKI_keyboard.offsetHeight-r[1]-h[1]>0&&f.VKI_forcePosition!=="bottom"?(u=!0,o=-f.VKI_keyboard.offsetHeight-3):s[1]-r[1]<0&&(u=!0)),u||n===!0){for(i=lt(f.VKI_target),t=f.VKI_target;t=t.parentNode;){if(t==document.body)break;if(t.scrollHeight>t.offsetHeight||t.scrollWidth>t.offsetWidth){t.getAttribute("VKI_scrollListener")||(t.setAttribute("VKI_scrollListener",!0),e(t,"scroll",function(){f.VKI_position(!0)},!1));var c=lt(t),l=i[1]-c[1],a=i[0]-c[0],v=l+f.VKI_target.offsetHeight,y=a+f.VKI_target.offsetWidth,p=t.offsetHeight-l-f.VKI_target.offsetHeight,w=t.offsetWidth-a-f.VKI_target.offsetWidth;f.VKI_keyboard.style.display=v<0||y<0||p<0||w<0?"none":"";f.VKI_isIE6&&(f.VKI_iframe.style.display=v<0||y<0||p<0||w<0?"none":"")}}f.VKI_keyboard.style.top=i[1]-(f.VKI_target.keyboardPosition=="fixed"&&!f.VKI_isIE&&!f.VKI_isMoz?r[1]:0)+o+"px";f.VKI_keyboard.style.left=Math.max(10,Math.min(h[0]-f.VKI_keyboard.offsetWidth-25,i[0]))+"px";f.VKI_isIE6&&(f.VKI_iframe.style.width=f.VKI_keyboard.offsetWidth+"px",f.VKI_iframe.style.height=f.VKI_keyboard.offsetHeight+"px",f.VKI_iframe.style.top=f.VKI_keyboard.style.top,f.VKI_iframe.style.left=f.VKI_keyboard.style.left)}n===!0&&f.VKI_position()}},this.VKI_close=function(n){if(this.VKI_target){try{this.VKI_keyboard.parentNode.removeChild(this.VKI_keyboard);this.VKI_isIE6&&this.VKI_iframe.parentNode.removeChild(this.VKI_iframe)}catch(t){}this.VKI_showKbSelect&&(this.VKI_kt!=this.VKI_kts&&(s.firstChild.nodeValue=this.VKI_kt=this.VKI_kts,this.VKI_buildKeys()),s.getElementsByTagName("ol")[0].style.display="");n&&this.VKI_target.focus();this.VKI_isIE?setTimeout(function(){f.VKI_target=!1},0):this.VKI_target=!1}},e(window,"resize",this.VKI_position,!1),e(window,"scroll",this.VKI_position,!1),this.VKI_kbsize(),f};n.module("angular-virtual-keyboard",[]).constant("VKI_CONFIG",{layout:{"US International":{name:"US International",keys:[[["`","~"],["1","!","¡","¹"],["2","@","²"],["3","#","³"],["4","$","¤","£"],["5","%","€"],["6","^","¼"],["7","&","½"],["8","*","¾"],["9","(","‘"],["0",")","’"],["-","_","¥"],["=","+","×","÷"],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q","ä","Ä"],["w","W","å","Å"],["e","E","é","É"],["r","R","®"],["t","T","þ","Þ"],["y","Y","ü","Ü"],["u","U","ú","Ú"],["i","I","í","Í"],["o","O","ó","Ó"],["p","P","ö","Ö"],["[","{","«"],["]","}","»"],["\\","|","¬","¦"]],[["Caps","Caps"],["a","A","á","Á"],["s","S","ß","§"],["d","D","ð","Ð"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L","ø","Ø"],[";",":","¶","°"],["'",'"',"´","¨"],["Enter","Enter"]],[["Shift","Shift"],["z","Z","æ","Æ"],["x","X"],["c","C","©","¢"],["v","V"],["b","B"],["n","N","ñ","Ñ"],["m","M","µ"],[",","<","ç","Ç"],[".",">"],["/","?","¿"],["Shift","Shift"]],[[" "," "," "," "],["Alt","Alt"]]],lang:["en"]}},deadkey:{"~":{a:"ã",l:"ł",n:"ñ",o:"õ",A:"Ã",L:"Ł",N:"Ñ",O:"Õ"},"^":{a:"â",e:"ê",i:"î",o:"ô",u:"û",w:"ŵ",y:"ŷ",A:"Â",E:"Ê",I:"Î",O:"Ô",U:"Û",W:"Ŵ",Y:"Ŷ"},"`":{a:"à",e:"è",i:"ì",o:"ò",u:"ù","ü":"ǜ",A:"À",E:"È",I:"Ì",O:"Ò",U:"Ù","Ü":"Ǜ"},"'":{a:"á",e:"é",i:"í",o:"ó",u:"ú",y:"ý","α":"ά","ε":"έ","η":"ή","ι":"ί","ο":"ό","υ":"ύ","ω":"ώ","ü":"ǘ",A:"Á",E:"É",I:"Í",O:"Ó",U:"Ú",Y:"Ý","Α":"Ά","Ε":"Έ","Η":"Ή","Ι":"Ί","Ο":"Ό","Υ":"Ύ","Ω":"Ώ","Ü":"Ǘ"},"´":{a:"á",e:"é",i:"í",o:"ó",u:"ú",y:"ý","α":"ά","ε":"έ","η":"ή","ι":"ί","ο":"ό","υ":"ύ","ω":"ώ","ü":"ǘ",A:"Á",E:"É",I:"Í",O:"Ó",U:"Ú",Y:"Ý","Α":"Ά","Ε":"Έ","Η":"Ή","Ι":"Ί","Ο":"Ό","Υ":"Ύ","Ω":"Ώ","Ü":"Ǘ"},"¨":{a:"ä",e:"ë",i:"ï",o:"ö",u:"ü",y:"ÿ","ι":"ϊ","υ":"ϋ","ū":"ǖ","ú":"ǘ","ǔ":"ǚ","ù":"ǜ",A:"Ä",E:"Ë",I:"Ï",O:"Ö",U:"Ü",Y:"Ÿ","Ι":"Ϊ","Υ":"Ϋ","Ū":"Ǖ","Ú":"Ǘ","Ǔ":"Ǚ","Ù":"Ǜ","か":"が","き":"ぎ","く":"ぐ","け":"げ","こ":"ご","た":"だ","ち":"ぢ","つ":"づ","て":"で","と":"ど","さ":"ざ","し":"じ","す":"ず","せ":"ぜ","そ":"ぞ","は":"ば","ひ":"び","ふ":"ぶ","へ":"べ","ほ":"ぼ","カ":"ガ","キ":"ギ","ク":"グ","ケ":"ゲ","コ":"ゴ","タ":"ダ","チ":"ヂ","ツ":"ヅ","テ":"デ","ト":"ド","サ":"ザ","シ":"ジ","ス":"ズ","セ":"ゼ","ソ":"ゾ","ハ":"バ","ヒ":"ビ","フ":"ブ","ヘ":"ベ","ホ":"ボ"}},kt:"US International",i18n:{"00":"Display Number Pad","01":"Display virtual keyboard interface","02":"Select keyboard layout","03":"Dead keys","04":"On","05":"Off","06":"Close the keyboard","07":"Clear","08":"Clear this input","09":"Version","10":"Decrease keyboard size","11":"Increase keyboard size"},relative:!0,sizeAdj:!0,customClass:!1}).service("ngVirtualKeyboardService",["VKI_CONFIG",function(n){return{attach:function(i,r,u){r=r||{};r.i18n=r.i18n||n.i18n;r.kt=r.kt||n.kt;r.relative=r.relative===!1?!1:n.relative;r.keyCenter=r.keyCenter||n.keyCenter;r.sizeAdj=r.sizeAdj===!1?!1:n.sizeAdj;r.customClass=r.customClass||n.customClass;var f=new t(r,n.layout,n.deadkey,u);f.attachVki(i)}}}]).directive("ngVirtualKeyboard",["ngVirtualKeyboardService","$timeout","$injector",function(n,t,i){return{restrict:"A",require:"?ngModel",scope:{config:"=ngVirtualKeyboard"},link:function(r,u,f,e){if(e){if(i.has("UAParser")){var h=i.get("UAParser"),o=(new h).getResult(),s=o.device.type==="mobile"||o.device.type==="tablet";if(s=s||o.os&&o.os.name==="Android",s=s||o.os&&o.os.name==="iOS",s=s||o.os&&o.os.name==="Windows Phone",s=s||o.os&&o.os.name==="Windows Mobile",s&&r.config.showInMobile!==!0)return}n.attach(u[0],r.config,function(){t(function(){e.$setViewValue(u[0].value)})})}}}}])}(angular),function(){"use strict";var n={backspace:8,tab:9,enter:13,escape:27,space:32,up:38,down:40,left:37,right:39,"delete":46,comma:188},i=9007199254740991,r=["text","email","url"],t=angular.module("ngTagsInput",[]);t.directive("tagsInput",["$timeout","$document","$window","$q","tagsInputConfig","tiUtil",function(t,u,f,e,o,s){function h(n,t,i,r){var u={},f,o,h,c;return f=function(t){return s.safeToString(t[n.displayProperty])},o=function(t,i){t[n.displayProperty]=i},h=function(t){var r=f(t),o=r&&r.length>=n.minLength&&r.length<=n.maxLength&&n.allowedTagsPattern.test(r)&&!s.findInObjectArray(u.items,t,n.keyProperty||n.displayProperty);return e.when(o&&i({$tag:t})).then(s.promisifyValue)},c=function(n){return e.when(r({$tag:n})).then(s.promisifyValue)},u.items=[],u.addText=function(n){var t={};return o(t,n),u.add(t)},u.add=function(i){var r=f(i);return n.replaceSpacesWithDashes&&(r=s.replaceSpacesWithDashes(r)),o(i,r),h(i).then(function(){u.items.push(i);t.trigger("tag-added",{$tag:i})}).catch(function(){r&&t.trigger("invalid-tag",{$tag:i})})},u.remove=function(n){var i=u.items[n];return c(i).then(function(){return u.items.splice(n,1),u.clearSelection(),t.trigger("tag-removed",{$tag:i}),i})},u.select=function(n){n<0?n=u.items.length-1:n>=u.items.length&&(n=0);u.index=n;u.selected=u.items[n]},u.selectPrior=function(){u.select(--u.index)},u.selectNext=function(){u.select(++u.index)},u.removeSelected=function(){return u.remove(u.index)},u.clearSelection=function(){u.selected=null;u.index=-1},u.clearSelection(),u}function c(n){return r.indexOf(n)!==-1}return{restrict:"E",require:"ngModel",scope:{tags:"=ngModel",text:"=?",templateScope:"=?",tagClass:"&",onTagAdding:"&",onTagAdded:"&",onInvalidTag:"&",onTagRemoving:"&",onTagRemoved:"&",onTagClicked:"&"},replace:!1,transclude:!0,templateUrl:"ngTagsInput/tags-input.html",controller:["$scope","$attrs","$element",function(n,t,r){n.events=s.simplePubSub();o.load("tagsInput",n,t,{template:[String,"ngTagsInput/tag-item.html"],type:[String,"text",c],placeholder:[String,"Add a tag"],tabindex:[Number,null],removeTagSymbol:[String,String.fromCharCode(215)],replaceSpacesWithDashes:[Boolean,!0],minLength:[Number,3],maxLength:[Number,i],addOnEnter:[Boolean,!0],addOnSpace:[Boolean,!1],addOnComma:[Boolean,!0],addOnBlur:[Boolean,!0],addOnPaste:[Boolean,!1],pasteSplitPattern:[RegExp,/,/],allowedTagsPattern:[RegExp,/.+/],enableEditingLastTag:[Boolean,!1],minTags:[Number,0],maxTags:[Number,i],displayProperty:[String,"text"],keyProperty:[String,""],allowLeftoverText:[Boolean,!1],addFromAutocompleteOnly:[Boolean,!1],spellcheck:[Boolean,!0]});n.tagList=new h(n.options,n.events,s.handleUndefinedResult(n.onTagAdding,!0),s.handleUndefinedResult(n.onTagRemoving,!0));this.registerAutocomplete=function(){var t=r.find("input");return{addTag:function(t){return n.tagList.add(t)},getTags:function(){return n.tagList.items},getCurrentTagText:function(){return n.newTag.text()},getOptions:function(){return n.options},getTemplateScope:function(){return n.templateScope},on:function(t,i){n.events.on(t,i,!0);return this}}};this.registerTagItem=function(){return{getOptions:function(){return n.options},removeTag:function(t){n.disabled||n.tagList.remove(t)}}}}],link:function(i,r,e,o){var p=[n.enter,n.comma,n.space,n.backspace,n.delete,n.left,n.right],h=i.tagList,l=i.events,c=i.options,y=r.find("input"),w=["minTags","maxTags","allowLeftoverText"],a,v;a=function(){o.$setValidity("maxTags",h.items.length<=c.maxTags);o.$setValidity("minTags",h.items.length>=c.minTags);o.$setValidity("leftoverText",i.hasFocus||c.allowLeftoverText?!0:!i.newTag.text())};v=function(){t(function(){y[0].focus()})};o.$isEmpty=function(n){return!n||!n.length};i.newTag={text:function(n){if(angular.isDefined(n))i.text=n,l.trigger("input-change",n);else return i.text||""},invalid:null};i.track=function(n){return n[c.keyProperty||c.displayProperty]};i.getTagClass=function(n,t){var r=n===h.selected;return[i.tagClass({$tag:n,$index:t,$selected:r}),{selected:r}]};i.$watch("tags",function(n){n?(h.items=s.makeObjectArray(n,c.displayProperty),i.tags=h.items):h.items=[]});i.$watch("tags.length",function(){a();o.$validate()});e.$observe("disabled",function(n){i.disabled=n});i.eventHandlers={input:{keydown:function(n){l.trigger("input-keydown",n)},focus:function(){i.hasFocus||(i.hasFocus=!0,l.trigger("input-focus"))},blur:function(){t(function(){var n=u.prop("activeElement"),t=n===y[0],f=r[0].contains(n);(t||!f)&&(i.hasFocus=!1,l.trigger("input-blur"))})},paste:function(n){n.getTextData=function(){var t=n.clipboardData||n.originalEvent&&n.originalEvent.clipboardData;return t?t.getData("text/plain"):f.clipboardData.getData("Text")};l.trigger("input-paste",n)}},host:{click:function(){i.disabled||v()}},tag:{click:function(n){l.trigger("tag-clicked",{$tag:n})}}};l.on("tag-added",i.onTagAdded).on("invalid-tag",i.onInvalidTag).on("tag-removed",i.onTagRemoved).on("tag-clicked",i.onTagClicked).on("tag-added",function(){i.newTag.text("")}).on("tag-added tag-removed",function(){i.tags=h.items;o.$setDirty();v()}).on("invalid-tag",function(){i.newTag.invalid=!0}).on("option-change",function(n){w.indexOf(n.name)!==-1&&a()}).on("input-change",function(){h.clearSelection();i.newTag.invalid=null}).on("input-focus",function(){r.triggerHandler("focus");o.$setValidity("leftoverText",!0)}).on("input-blur",function(){c.addOnBlur&&!c.addFromAutocompleteOnly&&h.addText(i.newTag.text());r.triggerHandler("blur");a()}).on("input-keydown",function(t){var r=t.keyCode,u={},f,e,o,l;s.isModifierOn(t)||p.indexOf(r)===-1||(u[n.enter]=c.addOnEnter,u[n.comma]=c.addOnComma,u[n.space]=c.addOnSpace,f=!c.addFromAutocompleteOnly&&u[r],e=(r===n.backspace||r===n.delete)&&h.selected,l=r===n.backspace&&i.newTag.text().length===0&&c.enableEditingLastTag,o=(r===n.backspace||r===n.left||r===n.right)&&i.newTag.text().length===0&&!c.enableEditingLastTag,f?h.addText(i.newTag.text()):l?(h.selectPrior(),h.removeSelected().then(function(n){n&&i.newTag.text(n[c.displayProperty])})):e?h.removeSelected():o&&(r===n.left||r===n.backspace?h.selectPrior():r===n.right&&h.selectNext()),(f||o||e||l)&&t.preventDefault())}).on("input-paste",function(n){if(c.addOnPaste){var i=n.getTextData(),t=i.split(c.pasteSplitPattern);t.length>1&&(t.forEach(function(n){h.addText(n)}),n.preventDefault())}})}}}]);t.directive("tiTagItem",["tiUtil",function(n){return{restrict:"E",require:"^tagsInput",template:'<ng-include src="$$template"><\/ng-include>',scope:{$scope:"=scope",data:"="},link:function(t,i,r,u){var e=u.registerTagItem(),f=e.getOptions();t.$$template=f.template;t.$$removeTagSymbol=f.removeTagSymbol;t.$getDisplayText=function(){return n.safeToString(t.data[f.displayProperty])};t.$removeTag=function(){e.removeTag(t.$index)};t.$watch("$parent.$index",function(n){t.$index=n})}}}]);t.directive("autoComplete",["$document","$timeout","$sce","$q","tagsInputConfig","tiUtil",function(t,i,r,u,f,e){function o(n,t,i){var r={},s,f,o;return o=function(){return t.tagsInput.keyProperty||t.tagsInput.displayProperty},s=function(n,i){return n.filter(function(n){return!e.findInObjectArray(i,n,o(),function(n,i){return t.tagsInput.replaceSpacesWithDashes&&(n=e.replaceSpacesWithDashes(n),i=e.replaceSpacesWithDashes(i)),e.defaultComparer(n,i)})})},r.reset=function(){f=null;r.items=[];r.visible=!1;r.index=-1;r.selected=null;r.query=null},r.show=function(){t.selectFirstMatch?r.select(0):r.selected=null;r.visible=!0},r.load=e.debounce(function(i,h){r.query=i;var c=u.when(n({$query:i}));f=c;c.then(function(n){c===f&&(n=e.makeObjectArray(n.data||n,o()),n=s(n,h),r.items=n.slice(0,t.maxResultsToShow),r.items.length>0?r.show():r.reset())})},t.debounceDelay),r.selectNext=function(){r.select(++r.index)},r.selectPrior=function(){r.select(--r.index)},r.select=function(n){n<0?n=r.items.length-1:n>=r.items.length&&(n=0);r.index=n;r.selected=r.items[n];i.trigger("suggestion-selected",n)},r.reset(),r}function s(n,t){var u=n.find("li").eq(t),i=u.parent(),r=u.prop("offsetTop"),f=u.prop("offsetHeight"),e=i.prop("clientHeight"),o=i.prop("scrollTop");r<o?i.prop("scrollTop",r):r+f>e+o&&i.prop("scrollTop",r+f-e)}return{restrict:"E",require:"^tagsInput",scope:{source:"&",matchClass:"&"},templateUrl:"ngTagsInput/auto-complete.html",controller:["$scope","$element","$attrs",function(n,t,i){n.events=e.simplePubSub();f.load("autoComplete",n,i,{template:[String,"ngTagsInput/auto-complete-match.html"],debounceDelay:[Number,100],minLength:[Number,3],highlightMatchedText:[Boolean,!0],maxResultsToShow:[Number,10],loadOnDownArrow:[Boolean,!1],loadOnEmpty:[Boolean,!1],loadOnFocus:[Boolean,!1],selectFirstMatch:[Boolean,!0],displayProperty:[String,""]});n.suggestionList=new o(n.source,n.options,n.events);this.registerAutocompleteMatch=function(){return{getOptions:function(){return n.options},getQuery:function(){return n.suggestionList.query}}}}],link:function(t,i,r,u){var l=[n.enter,n.tab,n.escape,n.up,n.down],f=t.suggestionList,o=u.registerAutocomplete(),h=t.options,a=t.events,c;h.tagsInput=o.getOptions();c=function(n){return n&&n.length>=h.minLength||!n&&h.loadOnEmpty};t.templateScope=o.getTemplateScope();t.addSuggestionByIndex=function(n){f.select(n);t.addSuggestion()};t.addSuggestion=function(){var n=!1;return f.selected&&(o.addTag(angular.copy(f.selected)),f.reset(),n=!0),n};t.track=function(n){return n[h.tagsInput.keyProperty||h.tagsInput.displayProperty]};t.getSuggestionClass=function(n,i){var r=n===f.selected;return[t.matchClass({$match:n,$index:i,$selected:r}),{selected:r}]};o.on("tag-added tag-removed invalid-tag input-blur",function(){f.reset()}).on("input-change",function(n){c(n)?f.load(n,o.getTags()):f.reset()}).on("input-focus",function(){var n=o.getCurrentTagText();h.loadOnFocus&&c(n)&&f.load(n,o.getTags())}).on("input-keydown",function(i){var r=i.keyCode,u=!1;if(!e.isModifierOn(i)&&l.indexOf(r)!==-1)return f.visible?r===n.down?(f.selectNext(),u=!0):r===n.up?(f.selectPrior(),u=!0):r===n.escape?(f.reset(),u=!0):(r===n.enter||r===n.tab)&&(u=t.addSuggestion()):r===n.down&&t.options.loadOnDownArrow&&(f.load(o.getCurrentTagText(),o.getTags()),u=!0),u?(i.preventDefault(),i.stopImmediatePropagation(),!1):void 0});a.on("suggestion-selected",function(n){s(i,n)})}}}]);t.directive("tiAutocompleteMatch",["$sce","tiUtil",function(n,t){return{restrict:"E",require:"^autoComplete",template:'<ng-include src="$$template"><\/ng-include>',scope:{$scope:"=scope",data:"="},link:function(i,r,u,f){var o=f.registerAutocompleteMatch(),e=o.getOptions();i.$$template=e.template;i.$index=i.$parent.$index;i.$highlight=function(i){return e.highlightMatchedText&&(i=t.safeHighlight(i,o.getQuery())),n.trustAsHtml(i)};i.$getDisplayText=function(){return t.safeToString(i.data[e.displayProperty||e.tagsInput.displayProperty])}}}}]);t.directive("tiTranscludeAppend",function(){return function(n,t,i,r,u){u(function(n){t.append(n)})}});t.directive("tiAutosize",["tagsInputConfig",function(n){return{restrict:"A",require:"ngModel",link:function(t,i,r,u){var o=n.getTextAutosizeThreshold(),f,e;f=angular.element('<span class="input"><\/span>');f.css("display","none").css("visibility","hidden").css("width","auto").css("white-space","pre");i.parent().append(f);e=function(n){var t=n,u;return angular.isString(t)&&t.length===0&&(t=r.placeholder),t&&(f.text(t),f.css("display",""),u=f.prop("offsetWidth"),f.css("display","none")),i.css("width",u?u+o+"px":""),n};u.$parsers.unshift(e);u.$formatters.unshift(e);r.$observe("placeholder",function(n){u.$modelValue||e(n)})}}}]);t.directive("tiBindAttrs",function(){return function(n,t,i){n.$watch(i.tiBindAttrs,function(n){angular.forEach(n,function(n,t){i.$set(t,n)})},!0)}});t.provider("tagsInputConfig",function(){var n={},t={},i=3;this.setDefaults=function(t,i){return n[t]=i,this};this.setActiveInterpolation=function(n,i){return t[n]=i,this};this.setTextAutosizeThreshold=function(n){return i=n,this};this.$get=["$interpolate",function(r){var u={};return u[String]=function(n){return n},u[Number]=function(n){return parseInt(n,10)},u[Boolean]=function(n){return n.toLowerCase()==="true"},u[RegExp]=function(n){return new RegExp(n)},{load:function(i,f,e,o){var s=function(){return!0};f.options={};angular.forEach(o,function(o,h){var l,a,v,y,p,c;l=o[0];a=o[1];v=o[2]||s;y=u[l];p=function(){var t=n[i]&&n[i][h];return angular.isDefined(t)?t:a};c=function(n){f.options[h]=n&&v(n)?y(n):p()};t[i]&&t[i][h]?e.$observe(h,function(n){c(n);f.events.trigger("option-change",{name:h,newValue:n})}):c(e[h]&&r(e[h])(f.$parent))})},getTextAutosizeThreshold:function(){return i}}}]});t.factory("tiUtil",["$timeout","$q",function(n,t){var i={};return i.debounce=function(t,i){var r;return function(){var u=arguments;n.cancel(r);r=n(function(){t.apply(null,u)},i)}},i.makeObjectArray=function(n,t){if(!angular.isArray(n)||n.length===0||angular.isObject(n[0]))return n;var i=[];return n.forEach(function(n){var r={};r[t]=n;i.push(r)}),i},i.findInObjectArray=function(n,t,r,u){var f=null;return u=u||i.defaultComparer,n.some(function(n){if(u(n[r],t[r]))return f=n,!0}),f},i.defaultComparer=function(n,t){return i.safeToString(n).toLowerCase()===i.safeToString(t).toLowerCase()},i.safeHighlight=function(n,t){function r(n){return n.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}if(!t)return n;n=i.encodeHTML(n);t=i.encodeHTML(t);var u=new RegExp("&[^;]+;|"+r(t),"gi");return n.replace(u,function(n){return n.toLowerCase()===t.toLowerCase()?"<em>"+n+"<\/em>":n})},i.safeToString=function(n){return angular.isUndefined(n)||n==null?"":n.toString().trim()},i.encodeHTML=function(n){return i.safeToString(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},i.handleUndefinedResult=function(n,t){return function(){var i=n.apply(null,arguments);return angular.isUndefined(i)?t:i}},i.replaceSpacesWithDashes=function(n){return i.safeToString(n).replace(/\s/g,"-")},i.isModifierOn=function(n){return n.shiftKey||n.ctrlKey||n.altKey||n.metaKey},i.promisifyValue=function(n){return n=angular.isUndefined(n)?!0:n,t[n?"when":"reject"]()},i.simplePubSub=function(){var n={};return{on:function(t,i,r){return t.split(" ").forEach(function(t){n[t]||(n[t]=[]);var u=r?[].unshift:[].push;u.call(n[t],i)}),this},trigger:function(t,r){var u=n[t]||[];return u.every(function(n){return i.handleUndefinedResult(n,!0)(r)}),this}}},i}]);t.run(["$templateCache",function(n){n.put("ngTagsInput/tags-input.html",'<div class="host" tabindex="-1" ng-click="eventHandlers.host.click()" ti-transclude-append><div class="tags" ng-class="{focused: hasFocus}"><ul class="tag-list"><li class="tag-item" ng-repeat="tag in tagList.items track by track(tag)" ng-class="getTagClass(tag, $index)" ng-click="eventHandlers.tag.click(tag)"><ti-tag-item scope="templateScope" data="::tag"><\/ti-tag-item><\/li><\/ul><input class="input" autocomplete="off" ng-model="newTag.text" ng-model-options="{getterSetter: true}" ng-keydown="eventHandlers.input.keydown($event)" ng-focus="eventHandlers.input.focus($event)" ng-blur="eventHandlers.input.blur($event)" ng-paste="eventHandlers.input.paste($event)" ng-trim="false" ng-class="{\'invalid-tag\': newTag.invalid}" ng-disabled="disabled" ti-bind-attrs="{type: options.type, placeholder: options.placeholder, tabindex: options.tabindex, spellcheck: options.spellcheck}" ti-autosize><\/div><\/div>');n.put("ngTagsInput/tag-item.html",'<span ng-bind="$getDisplayText()"><\/span> <a class="remove-button" ng-click="$removeTag()" ng-bind="::$$removeTagSymbol"><\/a>');n.put("ngTagsInput/auto-complete.html",'<div class="autocomplete" ng-if="suggestionList.visible"><ul class="suggestion-list"><li class="suggestion-item" ng-repeat="item in suggestionList.items track by track(item)" ng-class="getSuggestionClass(item, $index)" ng-click="addSuggestionByIndex($index)" ng-mouseenter="suggestionList.select($index)"><ti-autocomplete-match scope="templateScope" data="::item"><\/ti-autocomplete-match><\/li><\/ul><\/div>');n.put("ngTagsInput/auto-complete-match.html",'<span ng-bind-html="$highlight($getDisplayText())"><\/span>')}])}();angular.module("angularLazyImg",[]);angular.module("angularLazyImg").factory("LazyImgMagic",["$window","$rootScope","lazyImgConfig","lazyImgHelpers",function(n,t,i,r){"use strict";function v(){for(var t,n=u.length-1;n>=0;n--)t=u[n],t&&r.isElementInView(t.$elem[0],f.offset,a)&&(k(t),u.splice(n,1));u.length===0&&l()}function w(n){o.forEach(function(t){t[n]("scroll",c);t[n]("touchmove",c)});s[n]("resize",c);s[n]("resize",p)}function y(){h=!0;setTimeout(function(){v();w("on")},1)}function l(){h=!1;w("off")}function b(n){var t=u.indexOf(n);t!==-1&&u.splice(t,1)}function k(n){var i=new Image;i.onerror=function(){f.errorClass&&n.$elem.addClass(f.errorClass);t.$emit("lazyImg:error",n);f.onError(n)};i.onload=function(){d(n.$elem,n.src);f.successClass&&n.$elem.addClass(f.successClass);t.$emit("lazyImg:success",n);f.onSuccess(n)};i.src=n.src}function d(n,t){n[0].nodeName.toLowerCase()==="img"?n[0].src=t:n.css("background-image",'url("'+t+'")')}function e(n){this.$elem=n}var a,s,u,h,f,c,p,o;return u=[],h=!1,f=i.getOptions(),s=angular.element(n),a=r.getWinDimensions(),p=r.throttle(function(){a=r.getWinDimensions()},60),o=[f.container||s],c=r.throttle(v,30),e.prototype.setSource=function(n){this.src=n;u.unshift(this);h||y()},e.prototype.removeImage=function(){b(this);u.length===0&&l()},e.prototype.checkImages=function(){v()},e.addContainer=function(n){l();o.push(n);y()},e.removeContainer=function(n){l();o.splice(o.indexOf(n),1);y()},e}]);angular.module("angularLazyImg").provider("lazyImgConfig",function(){"use strict";this.options={offset:100,errorClass:null,successClass:null,onError:function(){},onSuccess:function(){}};this.$get=function(){var n=this.options;return{getOptions:function(){return n}}};this.setOptions=function(n){angular.extend(this.options,n)}});angular.module("angularLazyImg").factory("lazyImgHelpers",["$window",function(n){"use strict";function t(){return{height:n.innerHeight,width:n.innerWidth}}function i(n,t,i){var r=n.getBoundingClientRect(),u=i.height+t;return r.left>=0&&r.right<=i.width+t&&(r.top>=0&&r.top<=u||r.bottom<=u&&r.bottom>=0-t)}function r(n,t,i){var r,u;return function(){var e=i||this,f=+new Date,o=arguments;r&&f<r+t?(clearTimeout(u),u=setTimeout(function(){r=f;n.apply(e,o)},t)):(r=f,n.apply(e,o))}}return{isElementInView:i,getWinDimensions:t,throttle:r}}]);angular.module("angularLazyImg").directive("lazyImg",["$rootScope","LazyImgMagic",function(n,t){"use strict";function i(i,r,u){var f=new t(r);u.$observe("lazyImg",function(n){n&&f.setSource(n)});i.$on("$destroy",function(){f.removeImage()});n.$on("lazyImg.runCheck",function(){f.checkImages()});n.$on("lazyImg:refresh",function(){f.checkImages()})}return{link:i,restrict:"A"}}]).directive("lazyImgContainer",["LazyImgMagic",function(n){"use strict";function t(t,i){n.addContainer(i);t.$on("$destroy",function(){n.removeContainer(i)})}return{link:t,restrict:"A"}}])